<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
  
<!-- Mirrored from docs.aws.amazon.com/cli/latest/reference/kms/encrypt.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 13 Mar 2017 09:10:19 GMT -->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
  
    <title>encrypt &#8212; AWS CLI 1.11.61 Command Reference</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css" />
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript"><![CDATA[
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.11.61',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    ]]></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.11.61 Command Reference" href="../../index-2.html" />
    <link rel="up" title="kms" href="index.html" />
    <link rel="next" title="generate-data-key" href="generate-data-key.html" />
    <link rel="prev" title="enable-key-rotation" href="enable-key-rotation.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css" />
  
   

  </head>
  <body>
  <div class="navbar navbar-fixed-top ">
    <div class="navbar-inner">
      <div class="container">
        <a class="brand" href="../../index-2.html">AWS CLI Command Reference</a>
        <ul class="nav">
<li><a href="../../index-2.html">Home</a></li>
<li><a href="../../userguide/index.html">User Guide</a></li>
<li><a href="https://forums.aws.amazon.com/forum.jspa?forumID=150">Forum</a></li>
<li><a href="https://github.com/aws/aws-cli">GitHub</a></li>
        </ul>
        <div class="pull-right" id="github-stars">
          <iframe src="http://ghbtns.com/github-btn.html?user=aws&amp;repo=aws-cli&amp;type=watch&amp;count=true&amp;size=small" allowtransparency="true" frameborder="0" scrolling="0" width="110px" height="20px"></iframe>
        </div>
      </div>
    </div>
  </div>
  
  <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index" accesskey="I">index</a></li>
        <li class="right">
          <a href="generate-data-key.html" title="generate-data-key" accesskey="N">next</a> |</li>
        <li class="right">
          <a href="enable-key-rotation.html" title="enable-key-rotation" accesskey="P">previous</a> |</li>
        <li><a href="../../index-2.html">AWS CLI 1.11.61 Command Reference</a> &#187;</li>
          <li><a href="../index.html">aws</a> &#187;</li>
          <li><a href="index.html" accesskey="U">kms</a> &#187;</li> 
      </ul>
    </div>
    <div class="container">
        
    <div class="top-links">
      <ul class="breadcrumb pull-right">
        <li>
          <a href="enable-key-rotation.html" title="previous chapter (use the left arrow)">&#8592; enable-key-rotation</a>
          <span class="divider">/</span>
          
        </li>
          <li><a href="generate-data-key.html" title="next chapter (use the right arrow)">generate-data-key &#8594;</a></li>
      </ul>
    </div>
  
        <div class="document clearer">
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo left-bar-other">
  <a href="../../index-2.html">
    <img class="logo" src="../../_static/logo.png" alt="Logo" height="63" />
  </a>
</p>
  <h3><a href="../../index-2.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">encrypt</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#output">Output</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none">
    <h3>Quick search</h3>
    <form class="form-search margin-top-1em" action="http://docs.aws.amazon.com/cli/latest/search.html" method="get">
        <input type="text" name="q" style="width: 105px" class="input-small search-query" />
        <button type="submit" class="btn btn-small">Search</button>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript"><![CDATA[$('#searchbox').show(0);]]></script><div class="left-bar-other">
  <h3>Feedback</h3>
  <p class="feedback">Did you find this page useful? Do you have a suggestion? <a href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS%20Command%20Line%20Interface&amp;hidden_guide_name=Reference&amp;hidden_api_version=1.11.&amp;hidden_file_name=reference/kms/encrypt">Give us feedback</a> or
  send us a <a href="https://github.com/aws/aws-cli">pull request</a> on GitHub.</p>
</div><div class="left-bar-other">
  <h3>User Guide</h3>
  <p>First time using the AWS CLI? See the
  <a href="../../userguide/index.html">User Guide</a> for
  help getting started.</p>
</div>
        </div>
      </div>
            <div class="body">
              
  <p>[ <a class="reference internal" href="../index.html#cli-aws"><em>aws</em></a> . <a class="reference internal" href="index.html#cli-aws-kms"><em>kms</em></a> ]</p>
<div class="section" id="encrypt">
<span id="cli-aws-kms-encrypt"></span><h1>encrypt<a name="//apple_ref/cpp/Command/aws kms encrypt" class="dashAnchor" id="aws kms encrypt"></a><a class="headerlink" href="#encrypt" title="Permalink to this headline">&#182;</a></h1>
<div class="section" id="description">
<h2>Description<a name="//apple_ref/cpp/Section/Description" class="dashAnchor" id="Description"></a><a class="headerlink" href="#description" title="Permalink to this headline">&#182;</a></h2>
<p>Encrypts plaintext into ciphertext by using a customer master key. The <tt class="docutils literal"><span class="pre">encrypt</span></tt> function has two primary use cases:</p>
<ul class="simple">
<li>You can encrypt up to 4 KB of arbitrary data such as an RSA key, a database password, or other sensitive customer information.</li>
<li>If you are moving encrypted data from one region to another, you can use this API to encrypt in the new region the plaintext data key that was used to encrypt the data in the original region. This provides you with an encrypted copy of the data key that can be decrypted in the new region and used there to decrypt the encrypted data.</li>
</ul>
<p>Unless you are moving encrypted data from one region to another, you don't use this function to encrypt a generated data key within a region. You retrieve data keys already encrypted by calling the  generate-data-key or  generate-data-key-without-plaintext function. Data keys don't need to be encrypted again by calling <tt class="docutils literal"><span class="pre">encrypt</span></tt> .</p>
<p>If you want to encrypt data locally in your application, you can use the <tt class="docutils literal"><span class="pre">generate-data-key</span></tt> function to return a plaintext data encryption key and a copy of the key encrypted under the customer master key (CMK) of your choosing.</p>
<p>See also: <a class="reference external" href="https://docs.aws.amazon.com/goto/WebAPI/kms-2014-11-01/Encrypt">AWS API Documentation</a></p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a name="//apple_ref/cpp/Section/Synopsis" class="dashAnchor" id="Synopsis"></a><a class="headerlink" href="#synopsis" title="Permalink to this headline">&#182;</a></h2>
<div class="highlight-python"><pre>  encrypt
--key-id &lt;value&gt;
--plaintext &lt;value&gt;
[--encryption-context &lt;value&gt;]
[--grant-tokens &lt;value&gt;]
[--cli-input-json &lt;value&gt;]
[--generate-cli-skeleton &lt;value&gt;]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a name="//apple_ref/cpp/Section/Options" class="dashAnchor" id="Options"></a><a class="headerlink" href="#options" title="Permalink to this headline">&#182;</a></h2>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--key-id" class="dashAnchor" id="key-id"></a><span class="pre">--key-id</span></tt> (string)</p>
<blockquote>
<div><p>A unique identifier for the customer master key. This value can be a globally unique identifier, a fully specified ARN to either an alias or a key, or an alias name prefixed by "alias/".</p>
<ul class="simple">
<li>Key ARN Example - arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012</li>
<li>Alias ARN Example - arn:aws:kms:us-east-1:123456789012:alias/MyAliasName</li>
<li>Globally Unique Key ID Example - 12345678-1234-1234-1234-123456789012</li>
<li>Alias Name Example - alias/MyAliasName</li>
</ul>
</div></blockquote>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--plaintext" class="dashAnchor" id="plaintext"></a><span class="pre">--plaintext</span></tt> (blob)</p>
<blockquote>
<div>Data to be encrypted.</div></blockquote>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--encryption-context" class="dashAnchor" id="encryption-context"></a><span class="pre">--encryption-context</span></tt> (map)</p>
<blockquote>
<div>Name-value pair that specifies the encryption context to be used for authenticated encryption. If used here, the same value must be supplied to the <tt class="docutils literal"><span class="pre">decrypt</span></tt> API or decryption will fail. For more information, see <a class="reference external" href="http://docs.aws.amazon.com/kms/latest/developerguide/encryption-context.html">Encryption Context</a> .</div></blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">KeyName1</span><span class="o">=</span><span class="n">string</span><span class="p">,</span><span class="n">KeyName2</span><span class="o">=</span><span class="n">string</span>
</pre></div>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python"><pre>{"string": "string"
  ...}</pre>
</div>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--grant-tokens" class="dashAnchor" id="grant-tokens"></a><span class="pre">--grant-tokens</span></tt> (list)</p>
<blockquote>
<div><p>A list of grant tokens.</p>
<p>For more information, see <a class="reference external" href="http://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#grant_token">Grant Tokens</a> in the <em>AWS Key Management Service Developer Guide</em> .</p>
</div></blockquote>
<p>Syntax:</p>
<div class="highlight-python"><pre>"string" "string" ...</pre>
</div>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--cli-input-json" class="dashAnchor" id="cli-input-json"></a><span class="pre">--cli-input-json</span></tt> (string)
Performs service operation based on the JSON string provided. The JSON string follows the format provided by <tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt>. If other arguments are provided on the command line, the CLI values will override the JSON-provided values.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--generate-cli-skeleton" class="dashAnchor" id="generate-cli-skeleton"></a><span class="pre">--generate-cli-skeleton</span></tt> (string)
Prints a JSON skeleton to standard output without sending an API request. If provided with no value or the value <tt class="docutils literal"><span class="pre">input</span></tt>, prints a sample input JSON that can be used as an argument for <tt class="docutils literal"><span class="pre">--cli-input-json</span></tt>. If provided with the value <tt class="docutils literal"><span class="pre">output</span></tt>, it validates the command inputs and returns a sample output JSON for that command.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a name="//apple_ref/cpp/Section/Examples" class="dashAnchor" id="Examples"></a><a class="headerlink" href="#examples" title="Permalink to this headline">&#182;</a></h2>
<p>The following command demonstrates the recommended way to encrypt data with the AWS CLI.</p>
<div class="code highlight-python"><pre>aws kms encrypt --key-id 1234abcd-12ab-34cd-56ef-1234567890ab --plaintext fileb://ExamplePlaintextFile --output text --query CiphertextBlob | base64 --decode &gt; ExampleEncryptedFile</pre>
</div>
<p>The command does several things:</p>
<ol class="arabic">
<li><p class="first">Uses the <tt class="docutils literal"><span class="pre">fileb://</span></tt> prefix to specify the <tt class="docutils literal"><span class="pre">--plaintext</span></tt> parameter.</p>
<blockquote>
<div><p>The <tt class="docutils literal"><span class="pre">fileb://</span></tt> prefix instructs the CLI to read the data to encrypt, called the <em>plaintext</em>, from a file and pass the file's contents to the command's <tt class="docutils literal"><span class="pre">--plaintext</span></tt> parameter. If the file is not in the current directory, type the full path to file. For example: <tt class="docutils literal"><span class="pre">fileb:///var/tmp/ExamplePlaintextFile</span></tt> or <tt class="docutils literal"><span class="pre">fileb://C:\Temp\ExamplePlaintextFile</span></tt>.</p>
<p>For more information about reading AWS CLI parameter values from a file, see <a class="reference external" href="../../userguide/cli-using-param.html#cli-using-param-file">Loading Parameters from a File</a> in the <em>AWS Command Line Interface User Guide</em> and <a class="reference external" href="https://blogs.aws.amazon.com/cli/post/TxLWWN1O25V1HE/Best-Practices-for-Local-File-Parameters">Best Practices for Local File Parameters</a> on the AWS Command Line Tool Blog.</p>
</div></blockquote>
</li>
<li><p class="first">Uses the <tt class="docutils literal"><span class="pre">--output</span></tt> and <tt class="docutils literal"><span class="pre">--query</span></tt> parameters to control the command's output.</p>
<blockquote>
<div><p>These parameters extract the encrypted data, called the <em>ciphertext</em>, from the command's output.</p>
<p>For more information about controlling output, see <a class="reference external" href="../../userguide/controlling-output.html">Controlling Command Output</a> in the <em>AWS Command Line Interface User Guide</em>.</p>
</div></blockquote>
</li>
<li><p class="first">Uses the <tt class="docutils literal"><span class="pre">base64</span></tt> utility to decode the extracted output.</p>
<blockquote>
<div><p>This utility decodes the extracted ciphertext to binary data. The ciphertext that is returned by a successful <tt class="docutils literal"><span class="pre">encrypt</span></tt> command is base64-encoded text. You must decode this text before you can use the AWS CLI to decrypt it.</p>
</div></blockquote>
</li>
<li><p class="first">Saves the binary ciphertext to a file.</p>
<blockquote>
<div><p>The final part of the command (<tt class="docutils literal"><span class="pre">&gt;</span> <span class="pre">ExampleEncryptedFile</span></tt>) saves the binary ciphertext to a file to make decryption easier. For an example command that uses the AWS CLI to decrypt data, see the <a class="reference external" href="decrypt.html#examples">decrypt examples</a>.</p>
</div></blockquote>
</li>
</ol>
<p><strong>Example: Using the AWS CLI to encrypt data from the Windows command prompt</strong></p>
<p>The preceding example assumes the <tt class="docutils literal"><span class="pre">base64</span></tt> utility is available, which is commonly the case on Linux and Mac OS X. For the Windows command prompt, use <tt class="docutils literal"><span class="pre">certutil</span></tt> instead of <tt class="docutils literal"><span class="pre">base64</span></tt>. This requires two commands, as shown in the following examples.</p>
<div class="code highlight-python"><pre>aws kms encrypt --key-id 1234abcd-12ab-34cd-56ef-1234567890ab --plaintext fileb://ExamplePlaintextFile --output text --query CiphertextBlob &gt; C:\Temp\ExampleEncryptedFile.base64</pre>
</div>
<div class="code highlight-python"><pre>certutil -decode C:\Temp\ExampleEncryptedFile.base64 C:\Temp\ExampleEncryptedFile</pre>
</div>
</div>
<div class="section" id="output">
<h2>Output<a name="//apple_ref/cpp/Section/Output" class="dashAnchor" id="Output"></a><a class="headerlink" href="#output" title="Permalink to this headline">&#182;</a></h2>
<p>CiphertextBlob -&gt; (blob)</p>
<blockquote>
<div>The encrypted plaintext. If you are using the CLI, the value is Base64 encoded. Otherwise, it is not encoded.</div></blockquote>
<p>KeyId -&gt; (string)</p>
<blockquote>
<div>The ID of the key used during encryption.</div></blockquote>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    <div class="footer-links">
      <ul class="breadcrumb pull-right">
        <li>
          <a href="enable-key-rotation.html" title="previous chapter (use the left arrow)">&#8592; enable-key-rotation</a>
          <span class="divider">/</span>
          
        </li>
          <li><a href="generate-data-key.html" title="next chapter (use the right arrow)">generate-data-key &#8594;</a></li>
      </ul>
    </div>
  

    </div>
  <script type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js"></script>
  <script type="text/javascript"><![CDATA[
  s.prop66 = 'AWS CLI';
  s.eVar66 = 'D=c66';
  s.prop65 = 'API Reference';
  s.eVar65 = 'D=c65';
  var s_code = s.t();
  if (s_code) document.write(s_code);
  ]]></script>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index">index</a></li>
        <li class="right">
          <a href="generate-data-key.html" title="generate-data-key">next</a> |</li>
        <li class="right">
          <a href="enable-key-rotation.html" title="enable-key-rotation">previous</a> |</li>
        <li><a href="../../index-2.html">AWS CLI 1.11.61 Command Reference</a> &#187;</li>
          <li><a href="../index.html">aws</a> &#187;</li>
          <li><a href="index.html">kms</a> &#187;</li> 
      </ul>
    </div>
  <div class="footer container">
    &#169; Copyright 2016, Amazon Web Services. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>



  
    
  
  </body>

<!-- Mirrored from docs.aws.amazon.com/cli/latest/reference/kms/encrypt.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 13 Mar 2017 09:10:19 GMT -->
</html>
