<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
  
<!-- Mirrored from docs.aws.amazon.com/cli/latest/reference/ec2/describe-stale-security-groups.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 13 Mar 2017 09:10:00 GMT -->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
  
    <title>describe-stale-security-groups &#8212; AWS CLI 1.11.61 Command Reference</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css" />
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript"><![CDATA[
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.11.61',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    ]]></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.11.61 Command Reference" href="../../index-2.html" />
    <link rel="up" title="ec2" href="index.html" />
    <link rel="next" title="describe-subnets" href="describe-subnets.html" />
    <link rel="prev" title="describe-spot-price-history" href="describe-spot-price-history.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css" />
  
   

  </head>
  <body>
  <div class="navbar navbar-fixed-top ">
    <div class="navbar-inner">
      <div class="container">
        <a class="brand" href="../../index-2.html">AWS CLI Command Reference</a>
        <ul class="nav">
<li><a href="../../index-2.html">Home</a></li>
<li><a href="../../userguide/index.html">User Guide</a></li>
<li><a href="https://forums.aws.amazon.com/forum.jspa?forumID=150">Forum</a></li>
<li><a href="https://github.com/aws/aws-cli">GitHub</a></li>
        </ul>
        <div class="pull-right" id="github-stars">
          <iframe src="http://ghbtns.com/github-btn.html?user=aws&amp;repo=aws-cli&amp;type=watch&amp;count=true&amp;size=small" allowtransparency="true" frameborder="0" scrolling="0" width="110px" height="20px"></iframe>
        </div>
      </div>
    </div>
  </div>
  
  <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index" accesskey="I">index</a></li>
        <li class="right">
          <a href="describe-subnets.html" title="describe-subnets" accesskey="N">next</a> |</li>
        <li class="right">
          <a href="describe-spot-price-history.html" title="describe-spot-price-history" accesskey="P">previous</a> |</li>
        <li><a href="../../index-2.html">AWS CLI 1.11.61 Command Reference</a> &#187;</li>
          <li><a href="../index.html">aws</a> &#187;</li>
          <li><a href="index.html" accesskey="U">ec2</a> &#187;</li> 
      </ul>
    </div>
    <div class="container">
        
    <div class="top-links">
      <ul class="breadcrumb pull-right">
        <li>
          <a href="describe-spot-price-history.html" title="previous chapter (use the left arrow)">&#8592; describe-spot-price-history</a>
          <span class="divider">/</span>
          
        </li>
          <li><a href="describe-subnets.html" title="next chapter (use the right arrow)">describe-subnets &#8594;</a></li>
      </ul>
    </div>
  
        <div class="document clearer">
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo left-bar-other">
  <a href="../../index-2.html">
    <img class="logo" src="../../_static/logo.png" alt="Logo" height="63" />
  </a>
</p>
  <h3><a href="../../index-2.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">describe-stale-security-groups</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#output">Output</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none">
    <h3>Quick search</h3>
    <form class="form-search margin-top-1em" action="http://docs.aws.amazon.com/cli/latest/search.html" method="get">
        <input type="text" name="q" style="width: 105px" class="input-small search-query" />
        <button type="submit" class="btn btn-small">Search</button>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript"><![CDATA[$('#searchbox').show(0);]]></script><div class="left-bar-other">
  <h3>Feedback</h3>
  <p class="feedback">Did you find this page useful? Do you have a suggestion? <a href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS%20Command%20Line%20Interface&amp;hidden_guide_name=Reference&amp;hidden_api_version=1.11.&amp;hidden_file_name=reference/ec2/describe-stale-security-groups">Give us feedback</a> or
  send us a <a href="https://github.com/aws/aws-cli">pull request</a> on GitHub.</p>
</div><div class="left-bar-other">
  <h3>User Guide</h3>
  <p>First time using the AWS CLI? See the
  <a href="../../userguide/index.html">User Guide</a> for
  help getting started.</p>
</div>
        </div>
      </div>
            <div class="body">
              
  <p>[ <a class="reference internal" href="../index.html#cli-aws"><em>aws</em></a> . <a class="reference internal" href="index.html#cli-aws-ec2"><em>ec2</em></a> ]</p>
<div class="section" id="describe-stale-security-groups">
<span id="cli-aws-ec2-describe-stale-security-groups"></span><h1>describe-stale-security-groups<a name="//apple_ref/cpp/Command/aws ec2 describe-stale-security-groups" class="dashAnchor" id="aws ec2 describe-stale-security-groups"></a><a class="headerlink" href="#describe-stale-security-groups" title="Permalink to this headline">&#182;</a></h1>
<div class="section" id="description">
<h2>Description<a name="//apple_ref/cpp/Section/Description" class="dashAnchor" id="Description"></a><a class="headerlink" href="#description" title="Permalink to this headline">&#182;</a></h2>
<p>[EC2-VPC only] Describes the stale security group rules for security groups in a specified VPC. Rules are stale when they reference a deleted security group in a peer VPC, or a security group in a peer VPC for which the VPC peering connection has been deleted.</p>
<p>See also: <a class="reference external" href="https://docs.aws.amazon.com/goto/WebAPI/ec2-2016-11-15/DescribeStaleSecurityGroups">AWS API Documentation</a></p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a name="//apple_ref/cpp/Section/Synopsis" class="dashAnchor" id="Synopsis"></a><a class="headerlink" href="#synopsis" title="Permalink to this headline">&#182;</a></h2>
<div class="highlight-python"><pre>  describe-stale-security-groups
[--dry-run | --no-dry-run]
--vpc-id &lt;value&gt;
[--max-results &lt;value&gt;]
[--next-token &lt;value&gt;]
[--cli-input-json &lt;value&gt;]
[--generate-cli-skeleton &lt;value&gt;]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a name="//apple_ref/cpp/Section/Options" class="dashAnchor" id="Options"></a><a class="headerlink" href="#options" title="Permalink to this headline">&#182;</a></h2>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--dry-run" class="dashAnchor" id="dry-run"></a><span class="pre">--dry-run</span></tt> | <tt class="docutils literal"><span class="pre">--no-dry-run</span></tt> (boolean)</p>
<blockquote>
<div>Checks whether you have the required permissions for the operation, without actually making the request, and provides an error response. If you have the required permissions, the error response is DryRunOperation. Otherwise, it is UnauthorizedOperation.</div></blockquote>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--vpc-id" class="dashAnchor" id="vpc-id"></a><span class="pre">--vpc-id</span></tt> (string)</p>
<blockquote>
<div>The ID of the VPC.</div></blockquote>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--max-results" class="dashAnchor" id="max-results"></a><span class="pre">--max-results</span></tt> (integer)</p>
<blockquote>
<div>The maximum number of items to return for this request. The request returns a token that you can specify in a subsequent call to get the next set of results.</div></blockquote>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--next-token" class="dashAnchor" id="next-token"></a><span class="pre">--next-token</span></tt> (string)</p>
<blockquote>
<div>The token for the next set of items to return. (You received this token from a prior call.)</div></blockquote>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--cli-input-json" class="dashAnchor" id="cli-input-json"></a><span class="pre">--cli-input-json</span></tt> (string)
Performs service operation based on the JSON string provided. The JSON string follows the format provided by <tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt>. If other arguments are provided on the command line, the CLI values will override the JSON-provided values.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--generate-cli-skeleton" class="dashAnchor" id="generate-cli-skeleton"></a><span class="pre">--generate-cli-skeleton</span></tt> (string)
Prints a JSON skeleton to standard output without sending an API request. If provided with no value or the value <tt class="docutils literal"><span class="pre">input</span></tt>, prints a sample input JSON that can be used as an argument for <tt class="docutils literal"><span class="pre">--cli-input-json</span></tt>. If provided with the value <tt class="docutils literal"><span class="pre">output</span></tt>, it validates the command inputs and returns a sample output JSON for that command.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a name="//apple_ref/cpp/Section/Examples" class="dashAnchor" id="Examples"></a><a class="headerlink" href="#examples" title="Permalink to this headline">&#182;</a></h2>
<p><strong>To describe stale security groups</strong></p>
<p>This example describes stale security group rules for <tt class="docutils literal"><span class="pre">vpc-11223344</span></tt>. The response shows that sg-5fa68d3a in your account has a stale ingress SSH rule that references <tt class="docutils literal"><span class="pre">sg-279ab042</span></tt> in the peer VPC, and that <tt class="docutils literal"><span class="pre">sg-fe6fba9a</span></tt> in your account has a stale egress SSH rule that references <tt class="docutils literal"><span class="pre">sg-ef6fba8b</span></tt> in the peer VPC.</p>
<p>Command:</p>
<div class="highlight-python"><pre>aws ec2 describe-stale-security-groups --vpc-id vpc-11223344</pre>
</div>
<p>Output:</p>
<div class="highlight-python"><pre>{
  "StaleSecurityGroupSet": [
      {
          "VpcId": "vpc-11223344",
          "StaleIpPermissionsEgress": [
              {
                  "ToPort": 22,
                  "FromPort": 22,
                  "UserIdGroupPairs": [
                      {
                          "VpcId": "vpc-7a20e51f",
                          "GroupId": "sg-ef6fba8b",
                          "VpcPeeringConnectionId": "pcx-b04deed9",
                          "PeeringStatus": "active"
                      }
                  ],
                  "IpProtocol": "tcp"
              }
          ],
          "GroupName": "MySG1",
          "StaleIpPermissions": [],
          "GroupId": "sg-fe6fba9a",
          "Description": MySG1"
      },
      {
          "VpcId": "vpc-11223344",
          "StaleIpPermissionsEgress": [],
          "GroupName": "MySG2",
          "StaleIpPermissions": [
              {
                  "ToPort": 22,
                  "FromPort": 22,
                  "UserIdGroupPairs": [
                      {
                          "VpcId": "vpc-7a20e51f",
                          "GroupId": "sg-279ab042",
                          "VpcPeeringConnectionId": "pcx-b04deed9",
                          "PeeringStatus": "active"
                      }
                  ],
                  "IpProtocol": "tcp"
              }
          ],
          "GroupId": "sg-5fa68d3a",
          "Description": "MySG2"
      }
  ]
}</pre>
</div>
</div>
<div class="section" id="output">
<h2>Output<a name="//apple_ref/cpp/Section/Output" class="dashAnchor" id="Output"></a><a class="headerlink" href="#output" title="Permalink to this headline">&#182;</a></h2>
<p>StaleSecurityGroupSet -&gt; (list)</p>
<blockquote>
<div><p>Information about the stale security groups.</p>
<p>(structure)</p>
<blockquote>
<div><p>Describes a stale security group (a security group that contains stale rules).</p>
<p>GroupId -&gt; (string)</p>
<blockquote>
<div>The ID of the security group.</div></blockquote>
<p>GroupName -&gt; (string)</p>
<blockquote>
<div>The name of the security group.</div></blockquote>
<p>Description -&gt; (string)</p>
<blockquote>
<div>The description of the security group.</div></blockquote>
<p>VpcId -&gt; (string)</p>
<blockquote>
<div>The ID of the VPC for the security group.</div></blockquote>
<p>StaleIpPermissions -&gt; (list)</p>
<blockquote>
<div><p>Information about the stale inbound rules in the security group.</p>
<p>(structure)</p>
<blockquote>
<div><p>Describes a stale rule in a security group.</p>
<p>FromPort -&gt; (integer)</p>
<blockquote>
<div>The start of the port range for the TCP and UDP protocols, or an ICMP type number. A value of <tt class="docutils literal"><span class="pre">-1</span></tt> indicates all ICMP types.</div></blockquote>
<p>IpProtocol -&gt; (string)</p>
<blockquote>
<div>The IP protocol name (for <tt class="docutils literal"><span class="pre">tcp</span></tt> , <tt class="docutils literal"><span class="pre">udp</span></tt> , and <tt class="docutils literal"><span class="pre">icmp</span></tt> ) or number (see <a class="reference external" href="http://www.iana.org/assignments/protocol-numbers/protocol-numbers.xhtml">Protocol Numbers)</a> .</div></blockquote>
<p>IpRanges -&gt; (list)</p>
<blockquote>
<div><p>One or more IP ranges. Not applicable for stale security group rules.</p>
<p>(string)</p>
</div></blockquote>
<p>PrefixListIds -&gt; (list)</p>
<blockquote>
<div><p>One or more prefix list IDs for an AWS service. Not applicable for stale security group rules.</p>
<p>(string)</p>
</div></blockquote>
<p>ToPort -&gt; (integer)</p>
<blockquote>
<div>The end of the port range for the TCP and UDP protocols, or an ICMP type number. A value of <tt class="docutils literal"><span class="pre">-1</span></tt> indicates all ICMP types.</div></blockquote>
<p>UserIdGroupPairs -&gt; (list)</p>
<blockquote>
<div><p>One or more security group pairs. Returns the ID of the referenced security group and VPC, and the ID and status of the VPC peering connection.</p>
<p>(structure)</p>
<blockquote>
<div><p>Describes a security group and AWS account ID pair.</p>
<p>UserId -&gt; (string)</p>
<blockquote>
<div><p>The ID of an AWS account. For a referenced security group in another VPC, the account ID of the referenced security group is returned.</p>
<p>[EC2-Classic] Required when adding or removing rules that reference a security group in another AWS account.</p>
</div></blockquote>
<p>GroupName -&gt; (string)</p>
<blockquote>
<div>The name of the security group. In a request, use this parameter for a security group in EC2-Classic or a default VPC only. For a security group in a nondefault VPC, use the security group ID.</div></blockquote>
<p>GroupId -&gt; (string)</p>
<blockquote>
<div>The ID of the security group.</div></blockquote>
<p>VpcId -&gt; (string)</p>
<blockquote>
<div>The ID of the VPC for the referenced security group, if applicable.</div></blockquote>
<p>VpcPeeringConnectionId -&gt; (string)</p>
<blockquote>
<div>The ID of the VPC peering connection, if applicable.</div></blockquote>
<p>PeeringStatus -&gt; (string)</p>
<blockquote>
<div>The status of a VPC peering connection, if applicable.</div></blockquote>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p>StaleIpPermissionsEgress -&gt; (list)</p>
<blockquote>
<div><p>Information about the stale outbound rules in the security group.</p>
<p>(structure)</p>
<blockquote>
<div><p>Describes a stale rule in a security group.</p>
<p>FromPort -&gt; (integer)</p>
<blockquote>
<div>The start of the port range for the TCP and UDP protocols, or an ICMP type number. A value of <tt class="docutils literal"><span class="pre">-1</span></tt> indicates all ICMP types.</div></blockquote>
<p>IpProtocol -&gt; (string)</p>
<blockquote>
<div>The IP protocol name (for <tt class="docutils literal"><span class="pre">tcp</span></tt> , <tt class="docutils literal"><span class="pre">udp</span></tt> , and <tt class="docutils literal"><span class="pre">icmp</span></tt> ) or number (see <a class="reference external" href="http://www.iana.org/assignments/protocol-numbers/protocol-numbers.xhtml">Protocol Numbers)</a> .</div></blockquote>
<p>IpRanges -&gt; (list)</p>
<blockquote>
<div><p>One or more IP ranges. Not applicable for stale security group rules.</p>
<p>(string)</p>
</div></blockquote>
<p>PrefixListIds -&gt; (list)</p>
<blockquote>
<div><p>One or more prefix list IDs for an AWS service. Not applicable for stale security group rules.</p>
<p>(string)</p>
</div></blockquote>
<p>ToPort -&gt; (integer)</p>
<blockquote>
<div>The end of the port range for the TCP and UDP protocols, or an ICMP type number. A value of <tt class="docutils literal"><span class="pre">-1</span></tt> indicates all ICMP types.</div></blockquote>
<p>UserIdGroupPairs -&gt; (list)</p>
<blockquote>
<div><p>One or more security group pairs. Returns the ID of the referenced security group and VPC, and the ID and status of the VPC peering connection.</p>
<p>(structure)</p>
<blockquote>
<div><p>Describes a security group and AWS account ID pair.</p>
<p>UserId -&gt; (string)</p>
<blockquote>
<div><p>The ID of an AWS account. For a referenced security group in another VPC, the account ID of the referenced security group is returned.</p>
<p>[EC2-Classic] Required when adding or removing rules that reference a security group in another AWS account.</p>
</div></blockquote>
<p>GroupName -&gt; (string)</p>
<blockquote>
<div>The name of the security group. In a request, use this parameter for a security group in EC2-Classic or a default VPC only. For a security group in a nondefault VPC, use the security group ID.</div></blockquote>
<p>GroupId -&gt; (string)</p>
<blockquote>
<div>The ID of the security group.</div></blockquote>
<p>VpcId -&gt; (string)</p>
<blockquote>
<div>The ID of the VPC for the referenced security group, if applicable.</div></blockquote>
<p>VpcPeeringConnectionId -&gt; (string)</p>
<blockquote>
<div>The ID of the VPC peering connection, if applicable.</div></blockquote>
<p>PeeringStatus -&gt; (string)</p>
<blockquote>
<div>The status of a VPC peering connection, if applicable.</div></blockquote>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p>NextToken -&gt; (string)</p>
<blockquote>
<div>The token to use when requesting the next set of items. If there are no additional items to return, the string is empty.</div></blockquote>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    <div class="footer-links">
      <ul class="breadcrumb pull-right">
        <li>
          <a href="describe-spot-price-history.html" title="previous chapter (use the left arrow)">&#8592; describe-spot-price-history</a>
          <span class="divider">/</span>
          
        </li>
          <li><a href="describe-subnets.html" title="next chapter (use the right arrow)">describe-subnets &#8594;</a></li>
      </ul>
    </div>
  

    </div>
  <script type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js"></script>
  <script type="text/javascript"><![CDATA[
  s.prop66 = 'AWS CLI';
  s.eVar66 = 'D=c66';
  s.prop65 = 'API Reference';
  s.eVar65 = 'D=c65';
  var s_code = s.t();
  if (s_code) document.write(s_code);
  ]]></script>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index">index</a></li>
        <li class="right">
          <a href="describe-subnets.html" title="describe-subnets">next</a> |</li>
        <li class="right">
          <a href="describe-spot-price-history.html" title="describe-spot-price-history">previous</a> |</li>
        <li><a href="../../index-2.html">AWS CLI 1.11.61 Command Reference</a> &#187;</li>
          <li><a href="../index.html">aws</a> &#187;</li>
          <li><a href="index.html">ec2</a> &#187;</li> 
      </ul>
    </div>
  <div class="footer container">
    &#169; Copyright 2016, Amazon Web Services. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>



  
    
  
  </body>

<!-- Mirrored from docs.aws.amazon.com/cli/latest/reference/ec2/describe-stale-security-groups.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 13 Mar 2017 09:10:00 GMT -->
</html>
