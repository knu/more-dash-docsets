<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
  
<!-- Mirrored from docs.aws.amazon.com/cli/latest/reference/kinesis/get-records.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 13 Mar 2017 09:10:19 GMT -->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
  
    <title>get-records &#8212; AWS CLI 1.11.61 Command Reference</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css" />
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript"><![CDATA[
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.11.61',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    ]]></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.11.61 Command Reference" href="../../index-2.html" />
    <link rel="up" title="kinesis" href="index.html" />
    <link rel="next" title="get-shard-iterator" href="get-shard-iterator.html" />
    <link rel="prev" title="enable-enhanced-monitoring" href="enable-enhanced-monitoring.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css" />
  
   

  </head>
  <body>
  <div class="navbar navbar-fixed-top ">
    <div class="navbar-inner">
      <div class="container">
        <a class="brand" href="../../index-2.html">AWS CLI Command Reference</a>
        <ul class="nav">
<li><a href="../../index-2.html">Home</a></li>
<li><a href="../../userguide/index.html">User Guide</a></li>
<li><a href="https://forums.aws.amazon.com/forum.jspa?forumID=150">Forum</a></li>
<li><a href="https://github.com/aws/aws-cli">GitHub</a></li>
        </ul>
        <div class="pull-right" id="github-stars">
          <iframe src="http://ghbtns.com/github-btn.html?user=aws&amp;repo=aws-cli&amp;type=watch&amp;count=true&amp;size=small" allowtransparency="true" frameborder="0" scrolling="0" width="110px" height="20px"></iframe>
        </div>
      </div>
    </div>
  </div>
  
  <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index" accesskey="I">index</a></li>
        <li class="right">
          <a href="get-shard-iterator.html" title="get-shard-iterator" accesskey="N">next</a> |</li>
        <li class="right">
          <a href="enable-enhanced-monitoring.html" title="enable-enhanced-monitoring" accesskey="P">previous</a> |</li>
        <li><a href="../../index-2.html">AWS CLI 1.11.61 Command Reference</a> &#187;</li>
          <li><a href="../index.html">aws</a> &#187;</li>
          <li><a href="index.html" accesskey="U">kinesis</a> &#187;</li> 
      </ul>
    </div>
    <div class="container">
        
    <div class="top-links">
      <ul class="breadcrumb pull-right">
        <li>
          <a href="enable-enhanced-monitoring.html" title="previous chapter (use the left arrow)">&#8592; enable-enhanced-monitoring</a>
          <span class="divider">/</span>
          
        </li>
          <li><a href="get-shard-iterator.html" title="next chapter (use the right arrow)">get-shard-iterator &#8594;</a></li>
      </ul>
    </div>
  
        <div class="document clearer">
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo left-bar-other">
  <a href="../../index-2.html">
    <img class="logo" src="../../_static/logo.png" alt="Logo" height="63" />
  </a>
</p>
  <h3><a href="../../index-2.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">get-records</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#output">Output</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none">
    <h3>Quick search</h3>
    <form class="form-search margin-top-1em" action="http://docs.aws.amazon.com/cli/latest/search.html" method="get">
        <input type="text" name="q" style="width: 105px" class="input-small search-query" />
        <button type="submit" class="btn btn-small">Search</button>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript"><![CDATA[$('#searchbox').show(0);]]></script><div class="left-bar-other">
  <h3>Feedback</h3>
  <p class="feedback">Did you find this page useful? Do you have a suggestion? <a href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS%20Command%20Line%20Interface&amp;hidden_guide_name=Reference&amp;hidden_api_version=1.11.&amp;hidden_file_name=reference/kinesis/get-records">Give us feedback</a> or
  send us a <a href="https://github.com/aws/aws-cli">pull request</a> on GitHub.</p>
</div><div class="left-bar-other">
  <h3>User Guide</h3>
  <p>First time using the AWS CLI? See the
  <a href="../../userguide/index.html">User Guide</a> for
  help getting started.</p>
</div>
        </div>
      </div>
            <div class="body">
              
  <p>[ <a class="reference internal" href="../index.html#cli-aws"><em>aws</em></a> . <a class="reference internal" href="index.html#cli-aws-kinesis"><em>kinesis</em></a> ]</p>
<div class="section" id="get-records">
<span id="cli-aws-kinesis-get-records"></span><h1>get-records<a name="//apple_ref/cpp/Command/aws kinesis get-records" class="dashAnchor" id="aws kinesis get-records"></a><a class="headerlink" href="#get-records" title="Permalink to this headline">&#182;</a></h1>
<div class="section" id="description">
<h2>Description<a name="//apple_ref/cpp/Section/Description" class="dashAnchor" id="Description"></a><a class="headerlink" href="#description" title="Permalink to this headline">&#182;</a></h2>
<p>Gets data records from an Amazon Kinesis stream's shard.</p>
<p>Specify a shard iterator using the <tt class="docutils literal"><span class="pre">shard-iterator</span></tt> parameter. The shard iterator specifies the position in the shard from which you want to start reading data records sequentially. If there are no records available in the portion of the shard that the iterator points to,  get-records returns an empty list. Note that it might take multiple calls to get to a portion of the shard that contains records.</p>
<p>You can scale by provisioning multiple shards per stream while considering service limits (for more information, see <a class="reference external" href="http://docs.aws.amazon.com/kinesis/latest/dev/service-sizes-and-limits.html">Streams Limits</a> in the <em>Amazon Kinesis Streams Developer Guide</em> ). Your application should have one thread per shard, each reading continuously from its stream. To read from a stream continually, call  get-records in a loop. Use  get-shard-iterator to get the shard iterator to specify in the first  get-records call.  get-records returns a new shard iterator in <tt class="docutils literal"><span class="pre">NextShardIterator</span></tt> . Specify the shard iterator returned in <tt class="docutils literal"><span class="pre">NextShardIterator</span></tt> in subsequent calls to  get-records . Note that if the shard has been closed, the shard iterator can't return more data and  get-records returns <tt class="docutils literal"><span class="pre">null</span></tt> in <tt class="docutils literal"><span class="pre">NextShardIterator</span></tt> . You can terminate the loop when the shard is closed, or when the shard iterator reaches the record with the sequence number or other attribute that marks it as the last record to process.</p>
<p>Each data record can be up to 1 MB in size, and each shard can read up to 2 MB per second. You can ensure that your calls don't exceed the maximum supported size or throughput by using the <tt class="docutils literal"><span class="pre">Limit</span></tt> parameter to specify the maximum number of records that  get-records can return. Consider your average record size when determining this limit.</p>
<p>The size of the data returned by  get-records varies depending on the utilization of the shard. The maximum size of data that  get-records can return is 10 MB. If a call returns this amount of data, subsequent calls made within the next 5 seconds throw <tt class="docutils literal"><span class="pre">ProvisionedThroughputExceededException</span></tt> . If there is insufficient provisioned throughput on the shard, subsequent calls made within the next 1 second throw <tt class="docutils literal"><span class="pre">ProvisionedThroughputExceededException</span></tt> . Note that  get-records won't return any data when it throws an exception. For this reason, we recommend that you wait one second between calls to  get-records ; however, it's possible that the application will get exceptions for longer than 1 second.</p>
<p>To detect whether the application is falling behind in processing, you can use the <tt class="docutils literal"><span class="pre">MillisBehindLatest</span></tt> response attribute. You can also monitor the stream using CloudWatch metrics and other mechanisms (see <a class="reference external" href="http://docs.aws.amazon.com/kinesis/latest/dev/monitoring.html">Monitoring</a> in the <em>Amazon Kinesis Streams Developer Guide</em> ).</p>
<p>Each Amazon Kinesis record includes a value, <tt class="docutils literal"><span class="pre">ApproximateArrivalTimestamp</span></tt> , that is set when a stream successfully receives and stores a record. This is commonly referred to as a server-side timestamp, whereas a client-side timestamp is set when a data producer creates or sends the record to a stream (a data producer is any data source putting data records into a stream, for example with  put-records ). The timestamp has millisecond precision. There are no guarantees about the timestamp accuracy, or that the timestamp is always increasing. For example, records in a shard or across a stream might have timestamps that are out of order.</p>
<p>See also: <a class="reference external" href="https://docs.aws.amazon.com/goto/WebAPI/kinesis-2013-12-02/GetRecords">AWS API Documentation</a></p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a name="//apple_ref/cpp/Section/Synopsis" class="dashAnchor" id="Synopsis"></a><a class="headerlink" href="#synopsis" title="Permalink to this headline">&#182;</a></h2>
<div class="highlight-python"><pre>  get-records
--shard-iterator &lt;value&gt;
[--limit &lt;value&gt;]
[--cli-input-json &lt;value&gt;]
[--generate-cli-skeleton &lt;value&gt;]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a name="//apple_ref/cpp/Section/Options" class="dashAnchor" id="Options"></a><a class="headerlink" href="#options" title="Permalink to this headline">&#182;</a></h2>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--shard-iterator" class="dashAnchor" id="shard-iterator"></a><span class="pre">--shard-iterator</span></tt> (string)</p>
<blockquote>
<div>The position in the shard from which you want to start sequentially reading data records. A shard iterator specifies this position using the sequence number of a data record in the shard.</div></blockquote>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--limit" class="dashAnchor" id="limit"></a><span class="pre">--limit</span></tt> (integer)</p>
<blockquote>
<div>The maximum number of records to return. Specify a value of up to 10,000. If you specify a value that is greater than 10,000,  get-records throws <tt class="docutils literal"><span class="pre">InvalidArgumentException</span></tt> .</div></blockquote>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--cli-input-json" class="dashAnchor" id="cli-input-json"></a><span class="pre">--cli-input-json</span></tt> (string)
Performs service operation based on the JSON string provided. The JSON string follows the format provided by <tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt>. If other arguments are provided on the command line, the CLI values will override the JSON-provided values.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--generate-cli-skeleton" class="dashAnchor" id="generate-cli-skeleton"></a><span class="pre">--generate-cli-skeleton</span></tt> (string)
Prints a JSON skeleton to standard output without sending an API request. If provided with no value or the value <tt class="docutils literal"><span class="pre">input</span></tt>, prints a sample input JSON that can be used as an argument for <tt class="docutils literal"><span class="pre">--cli-input-json</span></tt>. If provided with the value <tt class="docutils literal"><span class="pre">output</span></tt>, it validates the command inputs and returns a sample output JSON for that command.</p>
</div>
<div class="section" id="output">
<h2>Output<a name="//apple_ref/cpp/Section/Output" class="dashAnchor" id="Output"></a><a class="headerlink" href="#output" title="Permalink to this headline">&#182;</a></h2>
<p>Records -&gt; (list)</p>
<blockquote>
<div><p>The data records retrieved from the shard.</p>
<p>(structure)</p>
<blockquote>
<div><p>The unit of data of the Amazon Kinesis stream, which is composed of a sequence number, a partition key, and a data blob.</p>
<p>SequenceNumber -&gt; (string)</p>
<blockquote>
<div>The unique identifier of the record in the stream.</div></blockquote>
<p>ApproximateArrivalTimestamp -&gt; (timestamp)</p>
<blockquote>
<div>The approximate time that the record was inserted into the stream.</div></blockquote>
<p>Data -&gt; (blob)</p>
<blockquote>
<div>The data blob. The data in the blob is both opaque and immutable to the Amazon Kinesis service, which does not inspect, interpret, or change the data in the blob in any way. When the data blob (the payload before base64-encoding) is added to the partition key size, the total size must not exceed the maximum record size (1 MB).</div></blockquote>
<p>PartitionKey -&gt; (string)</p>
<blockquote>
<div>Identifies which shard in the stream the data record is assigned to.</div></blockquote>
</div></blockquote>
</div></blockquote>
<p>NextShardIterator -&gt; (string)</p>
<blockquote>
<div>The next position in the shard from which to start sequentially reading data records. If set to <tt class="docutils literal"><span class="pre">null</span></tt> , the shard has been closed and the requested iterator will not return any more data.</div></blockquote>
<p>MillisBehindLatest -&gt; (long)</p>
<blockquote>
<div>The number of milliseconds the  get-records response is from the tip of the stream, indicating how far behind current time the consumer is. A value of zero indicates record processing is caught up, and there are no new records to process at this moment.</div></blockquote>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    <div class="footer-links">
      <ul class="breadcrumb pull-right">
        <li>
          <a href="enable-enhanced-monitoring.html" title="previous chapter (use the left arrow)">&#8592; enable-enhanced-monitoring</a>
          <span class="divider">/</span>
          
        </li>
          <li><a href="get-shard-iterator.html" title="next chapter (use the right arrow)">get-shard-iterator &#8594;</a></li>
      </ul>
    </div>
  

    </div>
  <script type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js"></script>
  <script type="text/javascript"><![CDATA[
  s.prop66 = 'AWS CLI';
  s.eVar66 = 'D=c66';
  s.prop65 = 'API Reference';
  s.eVar65 = 'D=c65';
  var s_code = s.t();
  if (s_code) document.write(s_code);
  ]]></script>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index">index</a></li>
        <li class="right">
          <a href="get-shard-iterator.html" title="get-shard-iterator">next</a> |</li>
        <li class="right">
          <a href="enable-enhanced-monitoring.html" title="enable-enhanced-monitoring">previous</a> |</li>
        <li><a href="../../index-2.html">AWS CLI 1.11.61 Command Reference</a> &#187;</li>
          <li><a href="../index.html">aws</a> &#187;</li>
          <li><a href="index.html">kinesis</a> &#187;</li> 
      </ul>
    </div>
  <div class="footer container">
    &#169; Copyright 2016, Amazon Web Services. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>



  
    
  
  </body>

<!-- Mirrored from docs.aws.amazon.com/cli/latest/reference/kinesis/get-records.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 13 Mar 2017 09:10:19 GMT -->
</html>
