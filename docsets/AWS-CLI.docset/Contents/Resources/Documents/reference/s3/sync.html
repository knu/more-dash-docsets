<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
  
<!-- Mirrored from docs.aws.amazon.com/cli/latest/reference/s3/sync.html by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 08 Jun 2016 08:36:28 GMT -->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
  
    <title>sync &#8212; AWS CLI 1.10.36 Command Reference</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css" />
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript"><![CDATA[
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.10.36',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    ]]></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.10.36 Command Reference" href="../../index-2.html" />
    <link rel="up" title="s3" href="index.html" />
    <link rel="next" title="website" href="website.html" />
    <link rel="prev" title="rm" href="rm.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css" />
  
   

  </head>
  <body>
  <div class="navbar navbar-fixed-top ">
    <div class="navbar-inner">
      <div class="container">
        <a class="brand" href="../../index-2.html">AWS CLI Command Reference</a>
        <ul class="nav">
<li><a href="../../index-2.html">Home</a></li>
<li><a href="../../userguide/index.html">User Guide</a></li>
<li><a href="https://forums.aws.amazon.com/forum.jspa?forumID=150">Forum</a></li>
<li><a href="https://github.com/aws/aws-cli">GitHub</a></li>
        </ul>
        <div class="pull-right" id="github-stars">
          <iframe src="http://ghbtns.com/github-btn.html?user=aws&amp;repo=aws-cli&amp;type=watch&amp;count=true&amp;size=small" allowtransparency="true" frameborder="0" scrolling="0" width="110px" height="20px"></iframe>
        </div>
      </div>
    </div>
  </div>
  
  <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index" accesskey="I">index</a></li>
        <li class="right">
          <a href="website.html" title="website" accesskey="N">next</a> |</li>
        <li class="right">
          <a href="rm.html" title="rm" accesskey="P">previous</a> |</li>
        <li><a href="../../index-2.html">AWS CLI 1.10.36 Command Reference</a> &#187;</li>
          <li><a href="../index.html">aws</a> &#187;</li>
          <li><a href="index.html" accesskey="U">s3</a> &#187;</li> 
      </ul>
    </div>
    <div class="container">
        
    <div class="top-links">
      <ul class="breadcrumb pull-right">
        <li>
          <a href="rm.html" title="previous chapter (use the left arrow)">&#8592; rm</a>
          <span class="divider">/</span>
          
        </li>
          <li><a href="website.html" title="next chapter (use the right arrow)">website &#8594;</a></li>
      </ul>
    </div>
  
        <div class="document clearer">
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo left-bar-other">
  <a href="../../index-2.html">
    <img class="logo" src="../../_static/logo.png" alt="Logo" height="63" />
  </a>
</p>
  <h3><a href="../../index-2.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">sync</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none">
    <h3>Quick search</h3>
    <form class="form-search margin-top-1em" action="http://docs.aws.amazon.com/cli/latest/search.html" method="get">
        <input type="text" name="q" style="width: 105px" class="input-small search-query" />
        <button type="submit" class="btn btn-small">Search</button>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript"><![CDATA[$('#searchbox').show(0);]]></script><div class="left-bar-other">
  <h3>Feedback</h3>
  <p class="feedback">Did you find this page useful? Do you have a suggestion? <a href="https://portal.aws.amazon.com/gp/aws/html-forms-controller/documentation/aws_doc_feedback_04?service_name=AWS%20Command%20Line%20Interface&amp;guide_name=Reference&amp;api_version=1.10.&amp;file_name=reference/s3/sync">Give us feedback</a> or
  send us a <a href="https://github.com/aws/aws-cli">pull request</a> on GitHub.</p>
</div><div class="left-bar-other">
  <h3>User Guide</h3>
  <p>First time using the AWS CLI? See the
  <a href="../../userguide/index.html">User Guide</a> for
  help getting started.</p>
</div>
        </div>
      </div>
            <div class="body">
              
  <p>[ <a class="reference internal" href="../index.html#cli-aws"><em>aws</em></a> . <a class="reference internal" href="index.html#cli-aws-s3"><em>s3</em></a> ]</p>
<div class="section" id="sync">
<span id="cli-aws-s3-sync"></span><h1>sync<a name="//apple_ref/cpp/Command/aws s3 sync" class="dashAnchor" id="aws s3 sync"></a><a class="headerlink" href="#sync" title="Permalink to this headline">&#182;</a></h1>
<div class="section" id="description">
<h2>Description<a name="//apple_ref/cpp/Section/Description" class="dashAnchor" id="Description"></a><a class="headerlink" href="#description" title="Permalink to this headline">&#182;</a></h2>
<p>Syncs directories and S3 prefixes. Recursively copies new and updated files from the source directory to the destination. Only creates folders in the destination if they contain one or more files.</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a name="//apple_ref/cpp/Section/Synopsis" class="dashAnchor" id="Synopsis"></a><a class="headerlink" href="#synopsis" title="Permalink to this headline">&#182;</a></h2>
<div class="highlight-python"><pre>  sync
&lt;LocalPath&gt; &lt;S3Uri&gt; or &lt;S3Uri&gt; &lt;LocalPath&gt; or &lt;S3Uri&gt; &lt;S3Uri&gt;
[--dryrun]
[--quiet]
[--include &lt;value&gt;]
[--exclude &lt;value&gt;]
[--acl &lt;value&gt;]
[--follow-symlinks | --no-follow-symlinks]
[--no-guess-mime-type]
[--sse &lt;value&gt;]
[--sse-c &lt;value&gt;]
[--sse-c-key &lt;value&gt;]
[--sse-kms-key-id &lt;value&gt;]
[--sse-c-copy-source &lt;value&gt;]
[--sse-c-copy-source-key &lt;value&gt;]
[--storage-class &lt;value&gt;]
[--grants &lt;value&gt; [&lt;value&gt;...]]
[--website-redirect &lt;value&gt;]
[--content-type &lt;value&gt;]
[--cache-control &lt;value&gt;]
[--content-disposition &lt;value&gt;]
[--content-encoding &lt;value&gt;]
[--content-language &lt;value&gt;]
[--expires &lt;value&gt;]
[--source-region &lt;value&gt;]
[--only-show-errors]
[--page-size &lt;value&gt;]
[--ignore-glacier-warnings]
[--force-glacier-transfer]
[--metadata &lt;value&gt;]
[--metadata-directive &lt;value&gt;]
[--size-only]
[--exact-timestamps]
[--delete]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a name="//apple_ref/cpp/Section/Options" class="dashAnchor" id="Options"></a><a class="headerlink" href="#options" title="Permalink to this headline">&#182;</a></h2>
<p><tt class="docutils literal"><span class="pre">paths</span></tt> (string)</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--dryrun" class="dashAnchor" id="dryrun"></a><span class="pre">--dryrun</span></tt> (boolean)
Displays the operations that would be performed using the specified command without actually running them.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--quiet" class="dashAnchor" id="quiet"></a><span class="pre">--quiet</span></tt> (boolean)
Does not display the operations performed from the specified command.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--include" class="dashAnchor" id="include"></a><span class="pre">--include</span></tt> (string)
Don't exclude files or objects in the command that match the specified pattern. See <a class="reference external" href="index.html#use-of-exclude-and-include-filters">Use of Exclude and Include Filters</a> for details.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--exclude" class="dashAnchor" id="exclude"></a><span class="pre">--exclude</span></tt> (string)
Exclude all files or objects from the command that matches the specified pattern.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--acl" class="dashAnchor" id="acl"></a><span class="pre">--acl</span></tt> (string)
Sets the ACL for the object when the command is performed. If you use this parameter you must have the "s3:PutObjectAcl" permission included in the list of actions for your IAM policy. Only accepts values of <tt class="docutils literal"><span class="pre">private</span></tt>, <tt class="docutils literal"><span class="pre">public-read</span></tt>, <tt class="docutils literal"><span class="pre">public-read-write</span></tt>, <tt class="docutils literal"><span class="pre">authenticated-read</span></tt>, <tt class="docutils literal"><span class="pre">aws-exec-read</span></tt>, <tt class="docutils literal"><span class="pre">bucket-owner-read</span></tt>, <tt class="docutils literal"><span class="pre">bucket-owner-full-control</span></tt> and <tt class="docutils literal"><span class="pre">log-delivery-write</span></tt>. See <a class="reference external" href="http://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html#canned-acl">Canned ACL</a> for details</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--follow-symlinks" class="dashAnchor" id="follow-symlinks"></a><span class="pre">--follow-symlinks</span></tt> | <tt class="docutils literal"><span class="pre">--no-follow-symlinks</span></tt> (boolean)
Symbolic links are followed only when uploading to S3 from the local filesystem. Note that S3 does not support symbolic links, so the contents of the link target are uploaded under the name of the link. When neither <tt class="docutils literal"><span class="pre">--follow-symlinks</span></tt> nor <tt class="docutils literal"><span class="pre">--no-follow-symlinks</span></tt> is specifed, the default is to follow symlinks.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--no-guess-mime-type" class="dashAnchor" id="no-guess-mime-type"></a><span class="pre">--no-guess-mime-type</span></tt> (boolean)
Do not try to guess the mime type for uploaded files. By default the mime type of a file is guessed when it is uploaded.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--sse" class="dashAnchor" id="sse"></a><span class="pre">--sse</span></tt> (string)
Specifies server-side encryption of the object in S3. Valid values are <tt class="docutils literal"><span class="pre">AES256</span></tt> and <tt class="docutils literal"><span class="pre">aws:kms</span></tt>. If the parameter is specified but no value is provided, <tt class="docutils literal"><span class="pre">AES256</span></tt> is used.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--sse-c" class="dashAnchor" id="sse-c"></a><span class="pre">--sse-c</span></tt> (string)
Specifies server-side encryption using customer provided keys of the the object in S3. <tt class="docutils literal"><span class="pre">AES256</span></tt> is the only valid value. If the parameter is specified but no value is provided, <tt class="docutils literal"><span class="pre">AES256</span></tt> is used. If you provide this value, <tt class="docutils literal"><span class="pre">--sse-c-key</span></tt> must be specfied as well.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--sse-c-key" class="dashAnchor" id="sse-c-key"></a><span class="pre">--sse-c-key</span></tt> (string)
The customer-provided encryption key to use to server-side encrypt the object in S3. If you provide this value, <tt class="docutils literal"><span class="pre">--sse-c</span></tt> must be specfied as well. The key provided should <strong>not</strong> be base64 encoded.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--sse-kms-key-id" class="dashAnchor" id="sse-kms-key-id"></a><span class="pre">--sse-kms-key-id</span></tt> (string)
The AWS KMS key ID that should be used to server-side encrypt the object in S3. Note that you should only provide this parameter if KMS key ID is different the default S3 master KMS key.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--sse-c-copy-source" class="dashAnchor" id="sse-c-copy-source"></a><span class="pre">--sse-c-copy-source</span></tt> (string)
This parameter should only be specified when copying an S3 object that was encrypted server-side with a customer-provided key. It specifies the algorithm to use when decrypting the source object. <tt class="docutils literal"><span class="pre">AES256</span></tt> is the only valid value. If the parameter is specified but no value is provided, <tt class="docutils literal"><span class="pre">AES256</span></tt> is used. If you provide this value, <tt class="docutils literal"><span class="pre">--sse-c-copy-source-key</span></tt> must be specfied as well.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--sse-c-copy-source-key" class="dashAnchor" id="sse-c-copy-source-key"></a><span class="pre">--sse-c-copy-source-key</span></tt> (string)
This parameter should only be specified when copying an S3 object that was encrypted server-side with a customer-provided key. Specifies the customer-provided encryption key for Amazon S3 to use to decrypt the source object. The encryption key provided must be one that was used when the source object was created. If you provide this value, <tt class="docutils literal"><span class="pre">--sse-c-copy-source</span></tt> be specfied as well. The key provided should <strong>not</strong> be base64 encoded.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--storage-class" class="dashAnchor" id="storage-class"></a><span class="pre">--storage-class</span></tt> (string)
The type of storage to use for the object. Valid choices are: STANDARD | REDUCED_REDUNDANCY | STANDARD_IA. Defaults to 'STANDARD'</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--grants" class="dashAnchor" id="grants"></a><span class="pre">--grants</span></tt> (string)</p>
<blockquote>
<div><p>Grant specific permissions to individual users or groups. You can supply a list of grants of the form</p>
<div class="highlight-python"><pre>--grants Permission=Grantee_Type=Grantee_ID [Permission=Grantee_Type=Grantee_ID ...]</pre>
</div>
<p>To specify the same permission type for multiple grantees, specify the permission as such as</p>
<div class="highlight-python"><pre>--grants Permission=Grantee_Type=Grantee_ID,Grantee_Type=Grantee_ID,...</pre>
</div>
<p>Each value contains the following elements:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">Permission</span></tt> - Specifies the granted permissions, and can be set to read, readacl, writeacl, or full.</li>
<li><tt class="docutils literal"><span class="pre">Grantee_Type</span></tt> - Specifies how the grantee is to be identified, and can be set to uri, emailaddress, or id.</li>
<li><tt class="docutils literal"><span class="pre">Grantee_ID</span></tt> - Specifies the grantee based on Grantee_Type. The <tt class="docutils literal"><span class="pre">Grantee_ID</span></tt> value can be one of:<ul>
<li><strong>uri</strong> - The group's URI. For more information, see <a class="reference external" href="http://docs.aws.amazon.com/AmazonS3/latest/dev/ACLOverview.html#SpecifyingGrantee">Who Is a Grantee?</a></li>
<li><strong>emailaddress</strong> - The account's email address.</li>
<li><strong>id</strong> - The account's canonical ID</li>
</ul>
</li>
</ul>
<p>For more information on Amazon S3 access control, see <a class="reference external" href="http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingAuthAccess.html">Access Control</a></p>
</div></blockquote>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--website-redirect" class="dashAnchor" id="website-redirect"></a><span class="pre">--website-redirect</span></tt> (string)
If the bucket is configured as a website, redirects requests for this object to another object in the same bucket or to an external URL. Amazon S3 stores the value of this header in the object metadata.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--content-type" class="dashAnchor" id="content-type"></a><span class="pre">--content-type</span></tt> (string)
Specify an explicit content type for this operation. This value overrides any guessed mime types.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--cache-control" class="dashAnchor" id="cache-control"></a><span class="pre">--cache-control</span></tt> (string)
Specifies caching behavior along the request/reply chain.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--content-disposition" class="dashAnchor" id="content-disposition"></a><span class="pre">--content-disposition</span></tt> (string)
Specifies presentational information for the object.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--content-encoding" class="dashAnchor" id="content-encoding"></a><span class="pre">--content-encoding</span></tt> (string)
Specifies what content encodings have been applied to the object and thus what decoding mechanisms must be applied to obtain the media-type referenced by the Content-Type header field.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--content-language" class="dashAnchor" id="content-language"></a><span class="pre">--content-language</span></tt> (string)
The language the content is in.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--expires" class="dashAnchor" id="expires"></a><span class="pre">--expires</span></tt> (string)
The date and time at which the object is no longer cacheable.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--source-region" class="dashAnchor" id="source-region"></a><span class="pre">--source-region</span></tt> (string)
When transferring objects from an s3 bucket to an s3 bucket, this specifies the region of the source bucket. Note the region specified by <tt class="docutils literal"><span class="pre">--region</span></tt> or through configuration of the CLI refers to the region of the destination bucket. If <tt class="docutils literal"><span class="pre">--source-region</span></tt> is not specified the region of the source will be the same as the region of the destination bucket.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--only-show-errors" class="dashAnchor" id="only-show-errors"></a><span class="pre">--only-show-errors</span></tt> (boolean)
Only errors and warnings are displayed. All other output is suppressed.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--page-size" class="dashAnchor" id="page-size"></a><span class="pre">--page-size</span></tt> (integer)
The number of results to return in each response to a list operation. The default value is 1000 (the maximum allowed). Using a lower value may help if an operation times out.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--ignore-glacier-warnings" class="dashAnchor" id="ignore-glacier-warnings"></a><span class="pre">--ignore-glacier-warnings</span></tt> (boolean)
Turns off glacier warnings. Warnings about an operation that cannot be performed because it involves copying, downloading, or moving a glacier object will no longer be printed to standard error and will no longer cause the return code of the command to be <tt class="docutils literal"><span class="pre">2</span></tt>.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--force-glacier-transfer" class="dashAnchor" id="force-glacier-transfer"></a><span class="pre">--force-glacier-transfer</span></tt> (boolean)
Forces a transfer request on all Glacier objects in a sync or recursive copy.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--metadata" class="dashAnchor" id="metadata"></a><span class="pre">--metadata</span></tt> (map)
A map of metadata to store with the objects in S3. This will be applied to every object which is part of this request. In a sync, this means that files which haven't changed won't receive the new metadata. When copying between two s3 locations, the metadata-directive argument will default to 'REPLACE' unless otherwise specified.</p>
<p>Shorthand Syntax:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">KeyName1</span><span class="o">=</span><span class="n">string</span><span class="p">,</span><span class="n">KeyName2</span><span class="o">=</span><span class="n">string</span>
</pre></div>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python"><pre>{"string": "string"
  ...}</pre>
</div>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--metadata-directive" class="dashAnchor" id="metadata-directive"></a><span class="pre">--metadata-directive</span></tt> (string)
Specifies whether the metadata is copied from the source object or replaced with metadata provided when copying S3 objects. Note that if the object is copied over in parts, the source object's metadata will not be copied over, no matter the value for <tt class="docutils literal"><span class="pre">--metadata-directive</span></tt>, and instead the desired metadata values must be specified as parameters on the command line. Valid values are <tt class="docutils literal"><span class="pre">COPY</span></tt> and <tt class="docutils literal"><span class="pre">REPLACE</span></tt>. If this parameter is not specified, <tt class="docutils literal"><span class="pre">COPY</span></tt> will be used by default. If <tt class="docutils literal"><span class="pre">REPLACE</span></tt> is used, the copied object will only have the metadata values that were specified by the CLI command. Note that if you are using any of the following parameters: <tt class="docutils literal"><span class="pre">--content-type</span></tt>, <tt class="docutils literal"><span class="pre">content-language</span></tt>, <tt class="docutils literal"><span class="pre">--content-encoding</span></tt>, <tt class="docutils literal"><span class="pre">--content-disposition</span></tt>, <tt class="docutils literal"><span class="pre">--cache-control</span></tt>, or <tt class="docutils literal"><span class="pre">--expires</span></tt>, you will need to specify <tt class="docutils literal"><span class="pre">--metadata-directive</span> <span class="pre">REPLACE</span></tt> for non-multipart copies if you want the copied objects to have the specified metadata values.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--size-only" class="dashAnchor" id="size-only"></a><span class="pre">--size-only</span></tt> (boolean)
Makes the size of each key the only criteria used to decide whether to sync from source to destination.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--exact-timestamps" class="dashAnchor" id="exact-timestamps"></a><span class="pre">--exact-timestamps</span></tt> (boolean)
When syncing from S3 to local, same-sized items will be ignored only when the timestamps match exactly. The default behavior is to ignore same-sized items unless the local version is newer than the S3 version.</p>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--delete" class="dashAnchor" id="delete"></a><span class="pre">--delete</span></tt> (boolean)
Files that exist in the destination but not in the source are deleted during sync.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a name="//apple_ref/cpp/Section/Examples" class="dashAnchor" id="Examples"></a><a class="headerlink" href="#examples" title="Permalink to this headline">&#182;</a></h2>
<p>The following <tt class="docutils literal"><span class="pre">sync</span></tt> command syncs objects under a specified prefix and bucket to files in a local directory by
uploading the local files to s3.  A local file will require uploading if the size of the local file is different than
the size of the s3 object, the last modified time of the local file is newer than the last modified time of the s3
object, or the local file does not exist under the specified bucket and prefix.  In this example, the user syncs the
bucket <tt class="docutils literal"><span class="pre">mybucket</span></tt> to the local current directory.  The local current directory contains the files <tt class="docutils literal"><span class="pre">test.txt</span></tt> and
<tt class="docutils literal"><span class="pre">test2.txt</span></tt>.  The bucket <tt class="docutils literal"><span class="pre">mybucket</span></tt> contains no objects:</p>
<div class="highlight-python"><pre>aws s3 sync . s3://mybucket</pre>
</div>
<p>Output:</p>
<div class="highlight-python"><pre>upload: test.txt to s3://mybucket/test.txt
upload: test2.txt to s3://mybucket/test2.txt</pre>
</div>
<p>The following <tt class="docutils literal"><span class="pre">sync</span></tt> command syncs objects under a specified prefix and bucket to objects under another specified
prefix and bucket by copying s3 objects.  A s3 object will require copying if the sizes of the two s3 objects differ,
the last modified time of the source is newer than the last modified time of the destination, or the s3 object does not
exist under the specified bucket and prefix destination.  In this example, the user syncs the bucket <tt class="docutils literal"><span class="pre">mybucket2</span></tt> to
the bucket <tt class="docutils literal"><span class="pre">mybucket</span></tt>.  The bucket <tt class="docutils literal"><span class="pre">mybucket</span></tt> contains the objects <tt class="docutils literal"><span class="pre">test.txt</span></tt> and <tt class="docutils literal"><span class="pre">test2.txt</span></tt>.  The bucket
<tt class="docutils literal"><span class="pre">mybucket2</span></tt> contains no objects:</p>
<div class="highlight-python"><pre>aws s3 sync s3://mybucket s3://mybucket2</pre>
</div>
<p>Output:</p>
<div class="highlight-python"><pre>copy: s3://mybucket/test.txt to s3://mybucket2/test.txt
copy: s3://mybucket/test2.txt to s3://mybucket2/test2.txt</pre>
</div>
<p>The following <tt class="docutils literal"><span class="pre">sync</span></tt> command syncs files in a local directory to objects under a specified prefix and bucket by
downloading s3 objects.  A s3 object will require downloading if the size of the s3 object differs from the size of the
local file, the last modified time of the s3 object is older than the last modified time of the local file, or the s3
object does not exist in the local directory.  Take note that when objects are downloaded from s3, the last modified
time of the local file is changed to the last modified time of the s3 object.  In this example, the user syncs the
current local directory to the bucket <tt class="docutils literal"><span class="pre">mybucket</span></tt>.  The bucket <tt class="docutils literal"><span class="pre">mybucket</span></tt> contains the objects <tt class="docutils literal"><span class="pre">test.txt</span></tt> and
<tt class="docutils literal"><span class="pre">test2.txt</span></tt>.  The current local directory has no files:</p>
<div class="highlight-python"><pre>aws s3 sync s3://mybucket .</pre>
</div>
<p>Output:</p>
<div class="highlight-python"><pre>download: s3://mybucket/test.txt to test.txt
download: s3://mybucket/test2.txt to test2.txt</pre>
</div>
<p>The following <tt class="docutils literal"><span class="pre">sync</span></tt> command syncs objects under a specified prefix and bucket to files in a local directory by
uploading the local files to s3.  Because the <tt class="docutils literal"><span class="pre">--delete</span></tt> parameter flag is thrown, any files existing under the
specified prefix and bucket but not existing in the local directory will be deleted.  In this example, the user syncs
the bucket <tt class="docutils literal"><span class="pre">mybucket</span></tt> to the local current directory.  The local current directory contains the files <tt class="docutils literal"><span class="pre">test.txt</span></tt> and
<tt class="docutils literal"><span class="pre">test2.txt</span></tt>.  The bucket <tt class="docutils literal"><span class="pre">mybucket</span></tt> contains the object <tt class="docutils literal"><span class="pre">test3.txt</span></tt>:</p>
<div class="highlight-python"><pre>aws s3 sync . s3://mybucket --delete</pre>
</div>
<p>Output:</p>
<div class="highlight-python"><pre>upload: test.txt to s3://mybucket/test.txt
upload: test2.txt to s3://mybucket/test2.txt
delete: s3://mybucket/test3.txt</pre>
</div>
<p>The following <tt class="docutils literal"><span class="pre">sync</span></tt> command syncs objects under a specified prefix and bucket to files in a local directory by
uploading the local files to s3.  Because the <tt class="docutils literal"><span class="pre">--exclude</span></tt> parameter flag is thrown, all files matching the pattern
existing both in s3 and locally will be excluded from the sync.  In this example, the user syncs the bucket <tt class="docutils literal"><span class="pre">mybucket</span></tt>
to the local current directory.  The local current directory contains the files <tt class="docutils literal"><span class="pre">test.jpg</span></tt> and <tt class="docutils literal"><span class="pre">test2.txt</span></tt>.  The
bucket <tt class="docutils literal"><span class="pre">mybucket</span></tt> contains the object <tt class="docutils literal"><span class="pre">test.jpg</span></tt> of a different size than the local <tt class="docutils literal"><span class="pre">test.jpg</span></tt>:</p>
<div class="highlight-python"><pre>aws s3 sync . s3://mybucket --exclude "*.jpg"</pre>
</div>
<p>Output:</p>
<div class="highlight-python"><pre>upload: test2.txt to s3://mybucket/test2.txt</pre>
</div>
<p>The following <tt class="docutils literal"><span class="pre">sync</span></tt> command syncs files under a local directory to objects under a specified prefix and bucket by
downloading s3 objects.  This example uses the <tt class="docutils literal"><span class="pre">--exclude</span></tt> parameter flag to exclude a specified directory
and s3 prefix from the <tt class="docutils literal"><span class="pre">sync</span></tt> command.  In this example, the user syncs the local current directory to the bucket
<tt class="docutils literal"><span class="pre">mybucket</span></tt>.  The local current directory contains the files <tt class="docutils literal"><span class="pre">test.txt</span></tt> and <tt class="docutils literal"><span class="pre">another/test2.txt</span></tt>.  The bucket
<tt class="docutils literal"><span class="pre">mybucket</span></tt> contains the objects <tt class="docutils literal"><span class="pre">another/test5.txt</span></tt> and <tt class="docutils literal"><span class="pre">test1.txt</span></tt>:</p>
<div class="highlight-python"><pre>aws s3 sync s3://mybucket/ . --exclude "*another/*"</pre>
</div>
<p>Output:</p>
<div class="highlight-python"><pre>download: s3://mybucket/test1.txt to test1.txt</pre>
</div>
<p>The following <tt class="docutils literal"><span class="pre">sync</span></tt> command syncs files between two buckets in different regions:</p>
<div class="highlight-python"><pre>aws s3 sync s3://my-us-west-2-bucket s3://my-us-east-1-bucket --source-region us-west-2 --region us-east-1</pre>
</div>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    <div class="footer-links">
      <ul class="breadcrumb pull-right">
        <li>
          <a href="rm.html" title="previous chapter (use the left arrow)">&#8592; rm</a>
          <span class="divider">/</span>
          
        </li>
          <li><a href="website.html" title="next chapter (use the right arrow)">website &#8594;</a></li>
      </ul>
    </div>
  

    </div>
  <script type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js"></script>
  <script type="text/javascript"><![CDATA[
  s.prop66 = 'AWS CLI';
  s.eVar66 = 'D=c66';
  s.prop65 = 'API Reference';
  s.eVar65 = 'D=c65';
  var s_code = s.t();
  if (s_code) document.write(s_code);
  ]]></script>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index">index</a></li>
        <li class="right">
          <a href="website.html" title="website">next</a> |</li>
        <li class="right">
          <a href="rm.html" title="rm">previous</a> |</li>
        <li><a href="../../index-2.html">AWS CLI 1.10.36 Command Reference</a> &#187;</li>
          <li><a href="../index.html">aws</a> &#187;</li>
          <li><a href="index.html">s3</a> &#187;</li> 
      </ul>
    </div>
  <div class="footer container">
    &#169; Copyright 2016, Amazon Web Services. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>



  
    
  
  </body>

<!-- Mirrored from docs.aws.amazon.com/cli/latest/reference/s3/sync.html by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 08 Jun 2016 08:36:28 GMT -->
</html>
