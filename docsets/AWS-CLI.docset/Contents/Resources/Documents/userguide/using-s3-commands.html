<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<!-- Mirrored from docs.aws.amazon.com/cli/latest/userguide/using-s3-commands.html by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 08 Jun 2016 08:36:53 GMT -->
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Use the high-level Amazon S3 commands to manage buckets and objects with the AWS Command Line Interface."><title>Using High-Level s3 Commands with the AWS Command Line Interface - AWS Command Line Interface</title><link rel="home" href="#aws-unified-cli" title="AWS Command Line Interface"><link rel="up" href="cli-s3.html" title="Using Amazon S3 with the AWS Command Line Interface"><link rel="prev" href="cli-s3.html" title="Using Amazon S3 with the AWS Command Line Interface"><link rel="next" href="using-s3api-commands.html" title="Using API-Level (s3api) Commands with the AWS Command Line Interface"><meta name="keywords" content=""><meta name="deployment_region" content="IAD"><meta name="product" content="AWS Command Line Interface"><meta name="guide" content="User Guide"><meta name="guide-locale" content="en_us"><link rel="icon" type="image/ico" href="http://media.amazonwebservices.com/favicon.ico"><link rel="shortcut icon" type="image/ico" href="http://media.amazonwebservices.com/favicon.ico"><link rel="canonical" href="using-s3-commands.html"><link rel="stylesheet" type="text/css" href="http://docs.aws.amazon.com/css/jquery-ui.min.css"><link rel="stylesheet" type="text/css" href="http://docs.aws.amazon.com/font/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="http://docs.aws.amazon.com/css/google-font.css"><link rel="stylesheet" type="text/css" href="http://docs.aws.amazon.com/css/highlight-default.css"><link rel="stylesheet" type="text/css" href="http://docs.aws.amazon.com/css/jquery-ui.theme.css"><link rel="stylesheet" type="text/css" href="http://docs.aws.amazon.com/css/colorbox.css"><link rel="stylesheet" type="text/css" href="http://docs.aws.amazon.com/css/awsdocs.css"><script type="text/javascript" src="http://docs.aws.amazon.com/js/highlight.pack.js"></script><script type="text/javascript" src="http://docs.aws.amazon.com/js/jquery.min.js"></script><script type="text/javascript" src="http://docs.aws.amazon.com/js/jquery-ui.min.js"></script><script type="text/javascript" src="http://docs.aws.amazon.com/js/handlebars.js"></script><script type="text/javascript" src="http://docs.aws.amazon.com/js/jquery.colorbox.js"></script><script type="text/javascript" src="http://docs.aws.amazon.com/js/awsdocs.min.js"></script></head><body id="top"><div id="aws-nav" class="aws-nav-header"><div class="aws-nav-header-left"><div id="aws-nav-flyout-trigger" class="aws-nav-flyout-trigger"><i class="fa fa-bars fa-2x"></i>Menu</div><div class="aws-nav-logo"><a href="https://aws.amazon.com/"><span>Amazon Web Services</span></a></div></div><div id="aws-nav-header-right" class="aws-nav-header-right"><div class="aws-nav-cta-button-outer"><a id="aws-nav-cta-button" class="aws-nav-button" href="https://console.aws.amazon.com/console/home">Sign In to the Console</a></div><div class="aws-nav-popover-trigger" data-dropdown="aws-nav-dropdown-lang"><select id="languageSelection" onchange="SelectLanguage()"><option value="http://docs.aws.amazon.com/de_de/cli/latest/userguide/using-s3-commands.html">Deutsch</option><option value="/en_us/cli/latest/userguide/using-s3-commands.html" selected>English</option><option value="http://docs.aws.amazon.com/es_es/cli/latest/userguide/using-s3-commands.html">Espa&ntilde;ol</option><option value="http://docs.aws.amazon.com/fr_fr/cli/latest/userguide/using-s3-commands.html">Fran&ccedil;ais</option><option value="http://docs.aws.amazon.com/ja_jp/cli/latest/userguide/using-s3-commands.html">&#26085;&#26412;&#35486;</option><option value="http://docs.aws.amazon.com/pt_br/cli/latest/userguide/using-s3-commands.html">Portugu&ecirc;s</option><option value="http://docs.aws.amazon.com/ko_kr/cli/latest/userguide/using-s3-commands.html">&#54620;&#44397;&#50612;</option><option value="http://docs.aws.amazon.com/zh_cn/cli/latest/userguide/using-s3-commands.html">&#20013;&#25991; (&#31616;&#20307;)</option></select></div><div id="aws-nav-quicklinks-separator" class="aws-nav-quicklinks-separator"><div class="aws-nav-left"></div><div class="aws-nav-right"></div></div></div><div id="topnav-flyout-menu-container"><ul id="topnav-flyout-menu"><script id="flyout-item-template" type="text/x-handlebars-template">           
                    {{#flyoutList}}
                    
                    <li>{{listItem}}
                        {{#if subList}}
                        <ul>
                            {{#subList}}
                            <li class="awsdocs-flyout-link-wrapper"><a href="{{target}}">{{text}}</a></li>
                            {{/subList}}
                        </ul>
                        {{/if}}
                    </li>
                    
                    {{/flyoutList}}
                </script></ul><div id="topnav-flyout-menu-spacer"></div></div></div><script type="text/javascript"><!--
						var thispage = "using-s3-commands.html";
						var tocroot = location.protocol + '//' + location.hostname + location.pathname;
						--></script><div id="content-container"><div id="left-column" class="ui-resizable"><div id="left-col-header"><div id="left-col-top-content"><div id="service-name">AWS Command Line Interface </div><div id="search"><i id="search-icon" class="fa fa-search fa-2x"></i></div><div id="guide-info">User Guide<div id="content-button"><i id="toggle-contents" class="fa fa-bars"></i></div></div></div><form id="finegrainedSearch" method="get" onsubmit="return searchFormSubmit(this);" action="http://docs.aws.amazon.com/search/doc-search.html"><div id="search-form"><select id="search-select" name="searchPath"><option value="all">Entire Site</option><option value="AWSMarketplace">AMIs from AWS Marketplace</option><option value="amis">AMIs from All Sources</option><option value="articles">Articles &amp; Tutorials</option><option value="products_and_info">AWS Product Information</option><option value="case_studies">Case Studies</option><option value="customerapps">Customer Apps</option><option value="documentation">Documentation</option><option value="documentation-product">Documentation - This Product</option><option value="documentation-guide" selected>Documentation - This Guide</option><option value="datasets">Public Data Sets</option><option value="releasenotes">Release Notes</option><option value="solution_providers">Partners</option><option value="code">Sample Code &amp; Libraries</option></select><br><input id="search-query" name="searchQuery" type="text" placholder="$loc-search-search"><input id="search-button" src="images/search-button.png" alt="Go" type="image"></div><input type="hidden" name="this_doc_product" id="this_doc_product" value="AWS Command Line Interface"><input type="hidden" name="this_doc_guide" id="this_doc_guide" value="User Guide"><input type="hidden" name="doc_locale" value="en_us"></form></div><div id="toc"><ul class="awstoc"><li class="awstoc leaf"><a class="awstoc" href="cli-chap-welcome.html">What Is the AWS CLI?</a></li><li class="awstoc closed"><a class="awstoc" href="cli-chap-getting-set-up.html">Getting Set Up</a><ul class="awstoc"><li class="awstoc closed"><a class="awstoc" href="installing.html">Installing the AWS CLI</a><ul class="awstoc"><li class="awstoc leaf"><a class="awstoc" href="cli-uninstall.html">Uninstalling the AWS CLI</a></li></ul></li><li class="awstoc closed"><a class="awstoc" href="cli-chap-getting-started.html">Configuring the AWS CLI</a><ul class="awstoc"><li class="awstoc leaf"><a class="awstoc" href="cli-http-proxy.html">Using an HTTP Proxy</a></li><li class="awstoc leaf"><a class="awstoc" href="cli-roles.html">Assuming a Role</a></li><li class="awstoc leaf"><a class="awstoc" href="cli-command-completion.html">Command Completion</a></li></ul></li></ul></li><li class="awstoc leaf"><a class="awstoc" href="tutorial-ec2-ubuntu.html">Tutorial: Using Amazon EC2</a></li><li class="awstoc closed"><a class="awstoc" href="cli-chap-using.html">Using the AWS CLI</a><ul class="awstoc"><li class="awstoc leaf"><a class="awstoc" href="getting-help.html">Getting Help</a></li><li class="awstoc leaf"><a class="awstoc" href="command-structure.html">Command Structure</a></li><li class="awstoc leaf"><a class="awstoc" href="cli-using-param.html">Specifying Parameter Values</a></li><li class="awstoc leaf"><a class="awstoc" href="generate-cli-skeleton.html">Generate CLI Skeleton</a></li><li class="awstoc leaf"><a class="awstoc" href="controlling-output.html">Controlling Command Output</a></li><li class="awstoc leaf"><a class="awstoc" href="shorthand-syntax.html">Shorthand Syntax</a></li><li class="awstoc leaf"><a class="awstoc" href="pagination.html">Pagination</a></li></ul></li><li class="awstoc opened"><a class="awstoc" href="chap-working-with-services.html">Working with Services</a><ul class="awstoc"><li class="awstoc leaf"><a class="awstoc" href="cli-dynamodb.html">DynamoDB</a></li><li class="awstoc closed"><a class="awstoc" href="cli-using-ec2.html">Amazon EC2</a><ul class="awstoc"><li class="awstoc leaf"><a class="awstoc" href="cli-ec2-keypairs.html">Using Key Pairs</a></li><li class="awstoc leaf"><a class="awstoc" href="cli-ec2-sg.html">Using Security Groups</a></li><li class="awstoc leaf"><a class="awstoc" href="cli-ec2-launch.html">Using Instances</a></li></ul></li><li class="awstoc leaf"><a class="awstoc" href="cli-using-glacier.html">Amazon Glacier</a></li><li class="awstoc closed"><a class="awstoc" href="cli-iam.html">AWS Identity and Access Management</a><ul class="awstoc"><li class="awstoc leaf"><a class="awstoc" href="cli-iam-new-user-group.html">Create New IAM Users and Groups</a></li><li class="awstoc leaf"><a class="awstoc" href="cli-iam-policy.html">Set an IAM Policy for an IAM User</a></li><li class="awstoc leaf"><a class="awstoc" href="cli-iam-set-pw.html">Set an Initial Password for an IAM User</a></li><li class="awstoc leaf"><a class="awstoc" href="cli-iam-create-creds.html">Create Security Credentials for an IAM User</a></li></ul></li><li class="awstoc opened"><a class="awstoc" href="cli-s3.html">Amazon S3</a><ul class="awstoc"><li class="awstoc leaf"><a class="awstoc selected" href="using-s3-commands.html">Using High-Level Amazon S3 Commands</a></li><li class="awstoc leaf"><a class="awstoc" href="using-s3api-commands.html">Using API Level (s3api) Commands</a></li></ul></li><li class="awstoc leaf"><a class="awstoc" href="cli-sqs-queue-sns-topic.html">Amazon SNS</a></li><li class="awstoc closed"><a class="awstoc" href="cli-using-swf.html">Amazon SWF</a><ul class="awstoc"><li class="awstoc leaf"><a class="awstoc" href="swf-commands-by-category.html">List of Amazon SWF Commands</a></li><li class="awstoc leaf"><a class="awstoc" href="cli-using-swf-domains.html">Working with Amazon SWF Domains</a></li></ul></li></ul></li></ul></div></div><div id="main-column"><div id="main"><div id="main-content"><div id="breadcrumbs"><table summary="Breadcrumbs"><tr><td><div class="navheader"><div class="breadcrumb"><a href="http://aws.amazon.com/documentation/">AWS Documentation</a> &raquo; <a href="http://aws.amazon.com/documentation/cli">AWS Command Line Interface</a> &raquo; <a href="index.html">AWS Command Line Interface</a> &raquo; <a href="chap-working-with-services.html">Working with Amazon Web Services</a> &raquo; <a href="cli-s3.html">Using Amazon S3 with the AWS Command Line Interface</a> &raquo; <span class="breadcrumb">Using High-Level s3 Commands with the AWS Command Line Interface</span></div></div></td></tr></table></div><div id="main-col-body"><div></div><div class="section"><div class="titlepage"><div><div><h1 class="topictitle">Using High-Level s3 Commands with the AWS Command Line Interface</h1></div></div></div><p>This section describes how you can manage Amazon S3 buckets and objects using high-level
      <code class="code">aws s3</code> commands.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="using-s3-commands-managing-buckets">Managing Buckets</h2></div></div></div><p>High-level <code class="code">aws s3</code> commands support commonly used bucket operations, such as
      creating, removing, and listing buckets.</p><div class="section"><div class="titlepage"><div><div><h3 class="title" id="using-s3-commands-managing-buckets-creating">Creating Buckets</h3></div></div></div><p>Use the <code class="code">aws s3 mb</code> command to create a new bucket. Bucket names must be
        unique and should be DNS compliant. Bucket names can contain lowercase letters, numbers,
        hyphens and periods. Bucket names can only start and end with a letter or number, and cannot
        contain a period next to a hyphen or another period. </p><pre class="programlisting"><code class="nohighlight">$ <strong class="userinput"><code>aws s3 mb s3://<em class="replaceable"><code>bucket-name</code></em></code></strong></code></pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="using-s3-commands-removing-buckets">Removing Buckets</h3></div></div></div><p>To remove a bucket, use the <code class="code">aws s3 rb</code> command.</p><pre class="programlisting"><code class="nohighlight">$ <strong class="userinput"><code>aws s3 rb s3://<em class="replaceable"><code>bucket-name</code></em></code></strong></code></pre><p>By default, the bucket must be empty for the operation to succeed. To remove a non-empty
        bucket, you need to include the <code class="code">--force</code> option.</p><pre class="programlisting"><code class="nohighlight">$ <strong class="userinput"><code>aws s3 rb s3://<em class="replaceable"><code>bucket-name</code></em> --force</code></strong></code></pre><p>This will first delete all objects and subfolders in the bucket and then remove the
        bucket.</p><div class="aws-note"><p class="aws-note">Note</p><p>If you are using a versioned bucket that contains previously deleted&#8212;but
          retained&#8212;objects, this command will <span class="emphasis"><em>not</em></span> allow you to remove the
          bucket.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="using-s3-commands-listing-buckets">Listing Buckets</h3></div></div></div><p>To list all buckets or their contents, use the <code class="code">aws s3 ls</code> command. Here are
        some examples of common usage.</p><p>The following command lists all buckets.</p><pre class="programlisting"><code class="nohighlight">$ <strong class="userinput"><code>aws s3 ls</code></strong>
       CreationTime Bucket
       ------------ ------
2013-07-11 17:08:50 my-bucket
2013-07-24 14:55:44 my-bucket2</code></pre><p>The following command lists all objects and folders (prefixes) in a bucket.</p><pre class="programlisting"><code class="nohighlight">$ <strong class="userinput"><code>aws s3 ls s3://<em class="replaceable"><code>bucket-name</code></em></code></strong>
Bucket: my-bucket
Prefix:

      LastWriteTime     Length Name
      -------------     ------ ----
                           PRE path/
2013-09-04 19:05:48          3 MyFile1.txt</code></pre><p>The following command lists the objects in
          <em class="replaceable"><code>bucket-name</code></em>/<code class="code">path</code> (in other words, objects in
          <em class="replaceable"><code>bucket-name</code></em> filtered by the prefix <code class="code">path</code>).</p><pre class="programlisting"><code class="nohighlight">$ <strong class="userinput"><code>aws s3 ls s3://<em class="replaceable"><code>bucket-name</code></em>/path</code></strong>
Bucket: my-bucket
Prefix: path/

      LastWriteTime     Length Name
      -------------     ------ ----
2013-09-06 18:59:32          3 MyFile2.txt</code></pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="using-s3-commands-managing-objects">Managing Objects</h2></div></div></div><p>The high-level <code class="code">aws s3</code> commands make it convenient to manage Amazon S3 objects as
      well. The object commands include <code class="code">aws s3 cp</code>, <code class="code">aws s3 ls</code>, <code class="code">aws s3
        mv</code>, <code class="code">aws s3 rm</code>, and <code class="code">sync</code>. The <code class="code">cp</code>,
        <code class="code">ls</code>, <code class="code">mv</code>, and <code class="code">rm</code> commands work similarly to their Unix
      counterparts and enable you to work seamlessly across your local directories and Amazon S3 buckets.
      The <code class="code">sync</code> command synchronizes the contents of a bucket and a directory, or two
      buckets.</p><div class="aws-note"><p class="aws-note">Note</p><p>All high-level commands that involve uploading objects into an Amazon S3 bucket (<code class="code">aws s3
          cp</code>, <code class="code">aws s3 mv</code>, and <code class="code">aws s3 sync</code>) automatically perform a
        multipart upload when the object is large.</p><p>Failed uploads cannot be resumed when using these commands. If the multipart upload fails
        due to a timeout or is manually cancelled by pressing CTRL+C, the AWS CLI cleans up any files
        created and aborts the upload. This process can take several minutes.
      </p><p>If the process is interrupted by a kill command or system failure, the in-progress
        multipart upload remains in Amazon S3 and must be cleaned up manually in the AWS Management Console or with
        the <a class="ulink" href="../reference/s3api/abort-multipart-upload.html" target="_blank">s3api
          abort-multipart-upload</a> command.</p></div><p>The <code class="code">cp</code>, <code class="code">mv</code>, and <code class="code">sync</code> commands include a
        <code class="code">--grants</code> option that can be used to grant permissions on the object to
      specified users or groups. You set the <code class="code">--grants</code> option to a list of permissions
      using following syntax:</p><pre class="programlisting"><code class="nohighlight">--grants <em class="replaceable"><code>Permission</code></em>=<em class="replaceable"><code>Grantee_Type</code></em>=<em class="replaceable"><code>Grantee_ID</code></em>
         [<em class="replaceable"><code>Permission</code></em>=<em class="replaceable"><code>Grantee_Type</code></em>=<em class="replaceable"><code>Grantee_ID</code></em> ...]</code></pre><p>Each value contains the following elements:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><em class="replaceable"><code>Permission</code></em> &#8211; Specifies the granted permissions, and
          can be set to <code class="code">read</code>, <code class="code">readacl</code>, <code class="code">writeacl</code>, or
            <code class="code">full</code>.</p></li><li class="listitem"><p><em class="replaceable"><code>Grantee_Type</code></em> &#8211; Specifies how the grantee is to be
          identified, and can be set to <code class="code">uri</code>, <code class="code">emailaddress</code>, or
            <code class="code">id</code>.</p></li><li class="listitem"><p><em class="replaceable"><code>Grantee_ID</code></em> &#8211; Specifies the grantee based on
            <em class="replaceable"><code>Grantee_Type</code></em>.</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p><code class="code">uri</code> &#8211; The group's URI. For more information, see <a class="ulink" href="http://docs.aws.amazon.com/AmazonS3/latest/dev/ACLOverview.html#SpecifyingGrantee" target="_blank">Who Is a
              Grantee?</a></p></li><li class="listitem"><p><code class="code">emailaddress</code> &#8211; The account's email address.</p></li><li class="listitem"><p><code class="code">id</code> &#8211; The account's canonical ID.</p></li></ul></div></li></ul></div><p>For more information on Amazon S3 access control, see <a class="ulink" href="http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingAuthAccess.html" target="_blank">Access Control</a>.</p><p>The following example copies an object into a bucket. It grants <code class="code">read</code>
      permissions on the object to everyone and <code class="code">full</code> permissions (<code class="code">read</code>,
        <code class="code">readacl</code>, and <code class="code">writeacl</code>) to the account associated with
        <code class="code">user@example.com</code>. </p><pre class="programlisting"><code class="nohighlight">$ <strong class="userinput"><code>aws s3 cp file.txt s3://<em class="replaceable"><code>my-bucket</code></em>/ --grants read=uri=http://acs.amazonaws.com/groups/global/AllUsers full=emailaddress=user@example.com</code></strong></code></pre><p>To specify a non-default storage class (<code class="code">REDUCED_REDUNDANCY</code> or
        <code class="code">STANDARD_IA</code>) for objects that you upload to Amazon S3, use the
        <code class="code">--storage-class</code> option:</p><p>
      </p><pre class="programlisting"><code class="nohighlight">$ <strong class="userinput"><code>aws s3 cp file.txt s3://<em class="replaceable"><code>my-bucket</code></em>/ --storage-class <em class="replaceable"><code>REDUCED_REDUNDANCY</code></em></code></strong></code></pre><p>
    </p><p>The <code class="code">sync</code> command has the following form. Possible source-target combinations
      are:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Local file system to Amazon S3</p></li><li class="listitem"><p>Amazon S3 to local file system</p></li><li class="listitem"><p>Amazon S3 to Amazon S3</p></li></ul></div><pre class="programlisting"><code class="nohighlight">$ <strong class="userinput"><code>aws s3 sync &lt;source&gt; &lt;target&gt; [--options]</code></strong></code></pre><p>The following example synchronizes the contents of an Amazon S3 folder named
        <span class="emphasis"><em>path</em></span> in <span class="emphasis"><em>my-bucket</em></span> with the current working
      directory. <code class="code">s3 sync</code> updates any files that have a different size or modified time
      than files with the same name at the destination. The output displays specific operations
      performed during the sync. Notice that the operation recursively synchronizes the subdirectory
        <span class="emphasis"><em>MySubdirectory</em></span> and its contents with
        <span class="emphasis"><em>s3://my-bucket/path/MySubdirectory</em></span>.</p><pre class="programlisting"><code class="nohighlight">$ <strong class="userinput"><code>aws s3 sync . s3://my-bucket/path</code></strong>
upload: MySubdirectory\MyFile3.txt to s3://my-bucket/path/MySubdirectory/MyFile3.txt
upload: MyFile2.txt to s3://my-bucket/path/MyFile2.txt
upload: MyFile1.txt to s3://my-bucket/path/MyFile1.txt</code></pre><p>Normally, <code class="code">sync</code> only copies missing or outdated files or objects between the
      source and target. However, you may supply the <code class="code">--delete</code> option to remove files or
      objects from the target not present in the source.</p><p>The following example, which extends the previous one, shows how this works.</p><pre class="programlisting"><code class="nohighlight">// Delete local file
$ <strong class="userinput"><code>rm ./MyFile1.txt</code></strong>

// Attempt sync without --delete option - nothing happens
$ <strong class="userinput"><code>aws s3 sync . s3://my-bucket/path</code></strong>

// Sync with deletion - object is deleted from bucket
$ <strong class="userinput"><code>aws s3 sync . s3://my-bucket/path --delete</code></strong>
delete: s3://my-bucket/path/MyFile1.txt

// Delete object from bucket
$ <strong class="userinput"><code>aws s3 rm s3://my-bucket/path/MySubdirectory/MyFile3.txt</code></strong>
delete: s3://my-bucket/path/MySubdirectory/MyFile3.txt

// Sync with deletion - local file is deleted
$ <strong class="userinput"><code>aws s3 sync s3://my-bucket/path . --delete</code></strong>
delete: MySubdirectory\MyFile3.txt

// Sync with Infrequent Access storage class
$ <strong class="userinput"><code>aws s3 sync . s3://my-bucket/path --storage-class STANDARD_IA</code></strong></code></pre><p>The <code class="code">--exclude</code> and <code class="code">--include</code> options allow you to specify rules
      to filter the files or objects to be copied during the sync operation. By default, all items
      in a specified directory are included in the sync. Therefore, <code class="code">--include</code> is only
      needed when specifying exceptions to the <code class="code">--exclude</code> option (for example,
        <code class="code">--include</code> effectively means "don't exclude"). The options apply in the order
      that is specified, as demonstrated in the following example.</p><pre class="programlisting"><code class="nohighlight">Local directory contains 3 files:
MyFile1.txt
MyFile2.rtf
MyFile88.txt
'''
$ <strong class="userinput"><code>aws s3 sync . s3://my-bucket/path --exclude '*.txt'</code></strong>
upload: MyFile2.rtf to s3://my-bucket/path/MyFile2.rtf
'''
$ <strong class="userinput"><code>aws s3 sync . s3://my-bucket/path --exclude '*.txt' --include 'MyFile*.txt'</code></strong>
upload: MyFile1.txt to s3://my-bucket/path/MyFile1.txt
upload: MyFile88.txt to s3://my-bucket/path/MyFile88.txt
upload: MyFile2.rtf to s3://my-bucket/path/MyFile2.rtf
'''
$ <strong class="userinput"><code>aws s3 sync . s3://my-bucket/path --exclude '*.txt' --include 'MyFile*.txt' --exclude 'MyFile?.txt'</code></strong>
upload: MyFile2.rtf to s3://my-bucket/path/MyFile2.rtf
upload: MyFile88.txt to s3://my-bucket/path/MyFile88.txt</code></pre><p>The <code class="code">--exclude</code> and <code class="code">--include</code> options can also filter files or
      objects to be deleted during a sync operation with the <code class="code">--delete</code> option. In this
      case, the parameter string must specify files to be excluded from, or included for, deletion
      in the context of the target directory or bucket. The following shows an example.</p><pre class="programlisting"><code class="nohighlight">Assume local directory and s3://my-bucket/path currently in sync and each contains 3 files:
MyFile1.txt
MyFile2.rtf
MyFile88.txt
'''
// Delete local .txt files
$ <strong class="userinput"><code>rm *.txt</code></strong>

// Sync with delete, excluding files that match a pattern. MyFile88.txt is deleted, while remote MyFile1.txt is not.
$ <strong class="userinput"><code>aws s3 sync . s3://my-bucket/path --delete --exclude 'my-bucket/path/MyFile?.txt'</code></strong>
delete: s3://my-bucket/path/MyFile88.txt
'''
// Delete MyFile2.rtf
$ <strong class="userinput"><code>aws s3 rm s3://my-bucket/path/MyFile2.rtf</code></strong>

// Sync with delete, excluding MyFile2.rtf - local file is NOT deleted
$ <strong class="userinput"><code>aws s3 sync s3://my-bucket/path . --delete --exclude './MyFile2.rtf'</code></strong>
download: s3://my-bucket/path/MyFile1.txt to MyFile1.txt
'''
// Sync with delete, local copy of MyFile2.rtf is deleted
$ <strong class="userinput"><code>aws s3 sync s3://my-bucket/path . --delete</code></strong>
delete: MyFile2.rtf
</code></pre><p>The <code class="code">sync</code> command also accepts an <code class="code">--acl</code> option, by which you may
      set the access permissions for files copied to Amazon S3. The option accepts <code class="code">private</code>,
        <code class="code">public-read</code>, and <code class="code">public-read-write</code> values.</p><pre class="programlisting"><code class="nohighlight">$ <strong class="userinput"><code>aws s3 sync . s3://my-bucket/path --acl public-read</code></strong></code></pre><p>As previously mentioned, the <code class="code">s3</code> command set includes <code class="code">cp</code>,
        <code class="code">mv</code>, <code class="code">ls</code>, and <code class="code">rm</code>, and they work in similar ways to
      their Unix counterparts. The following are some examples.</p><pre class="programlisting"><code class="nohighlight">// Copy MyFile.txt in current directory to s3://my-bucket/path
$ <strong class="userinput"><code>aws s3 cp MyFile.txt s3://my-bucket/path/</code></strong>

// Move all .jpg files in s3://my-bucket/path to ./MyDirectory
$ <strong class="userinput"><code>aws s3 mv s3://my-bucket/path ./MyDirectory --exclude '*' --include '*.jpg' --recursive</code></strong>

// List the contents of my-bucket
$ <strong class="userinput"><code>aws s3 ls s3://my-bucket</code></strong>

// List the contents of path in my-bucket
$ <strong class="userinput"><code>aws s3 ls s3://my-bucket/path</code></strong>

// Delete s3://my-bucket/path/MyFile.txt
$ <strong class="userinput"><code>aws s3 rm s3://my-bucket/path/MyFile.txt</code></strong>

// Delete s3://my-bucket/path and all of its contents
$ <strong class="userinput"><code>aws s3 rm s3://my-bucket/path --recursive</code></strong></code></pre><p>When the <code class="code">--recursive</code> option is used on a directory/folder with
        <code class="code">cp</code>, <code class="code">mv</code>, or <code class="code">rm</code>, the command walks the directory tree,
      including all subdirectories. These commands also accept the <code class="code">--exclude</code>,
        <code class="code">--include</code>, and <code class="code">--acl</code> options as the <code class="code">sync</code> command
      does.</p></div></div></div><img src="images/expanderarrow.png" style="display:none;height:0;width:0"><div id="main-col-footer"><div id="doc-conventions"><a target="_top" href="http://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div id="next"><a class="awstoc" accesskey="p" href="cli-s3.html">&laquo; Previous </a><a class="awstoc" accesskey="n" href="using-s3api-commands.html">Next &raquo;</a></div><div id="copyright-main-footer">&copy; 2016, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div></div></div></div><div id="right-expanded"><div id="right-content-wrapper"><div id="right-col-header"><a id="pdf_link" href="aws-cli.pdf"> PDF </a><text> | </text><a target="_blank" href="http://www.amazon.com/dp/B00Q7K4HFG">Kindle </a></div><div id="pagetoc"><p>On this page:</p><ul class="pagetoc"><li class="pagetoc" name="Managing Buckets"><a class="pagetoc" href="#using-s3-commands-managing-buckets">Managing Buckets</a></li><li class="pagetoc" name="Managing Objects"><a class="pagetoc" href="#using-s3-commands-managing-objects">Managing Objects</a></li></ul></div></div></div></div></div><div id="footer"><div id="footer_short_fb" class="hide" title="Feedback"><a target="_blank" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS%20Command%20Line%20Interface&amp;hidden_guide_name=User%20Guide&amp;hidden_api_version=&amp;hidden_file_name=using-s3-commands"><i class="fa fa-envelope-o"></i></a></div><div id="footer_toggle" class="mediaobject"><img id="footer_toggle_img" src="images/expanderarrow.png"><img id="footer_toggle_img_collapse" class="hide" src="images/expanderarrowright.png"></div><div id="footer-left"><a target="_top" href="http://aws.amazon.com/terms">Terms of Use</a> | &copy; 2016, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div><div id="footer-right"><div id="feedback"><div id="forums"><a id="forum_link" target="_blank" href="http://forums.aws.amazon.com/forum.jspa?forumID=150">Have a question? Try the Forums.</a></div><div id="feedback-message">Did this page help you?</div><div id="feedback-yesno-buttons"><a class="awstoc btn btn-default" target="_blank" href="feedbackyese29f.html?topic_id=using-s3-commands">Yes</a><a class="awstoc btn btn-default" target="_blank" href="feedbacknoe29f.html?topic_id=using-s3-commands">No</a></div><div id="feedback-feedback-button"><a class="awstoc btn btn-default" target="_blank" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS%20Command%20Line%20Interface&amp;hidden_guide_name=User%20Guide&amp;hidden_api_version=&amp;hidden_file_name=using-s3-commands">Feedback</a></div></div></div></div><noscript><div><div><div><div id="error_messages"><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" style="float: left;" alt="Warning"><div id="js_error_message"><strong>Javascript is disabled or is unavailable in your browser.</strong><br> To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions. </div></div></div></div></div></noscript><!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript"><!--

            // Documentation Service Name
            s.prop66='AWS Command Line Interface';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript"><!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="http://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt=""></noscript><!--/DO NOT REMOVE/--><!-- End SiteCatalyst code version: H.25.2. --></body>
<!-- Mirrored from docs.aws.amazon.com/cli/latest/userguide/using-s3-commands.html by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 08 Jun 2016 08:36:54 GMT -->
</html>